{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/cliptexttosymbol.js","webpack://exports/external \"sketch\""],"names":["symbolOverrideLayers","log","doc","sketch","getSelectedDocument","selectedLayers","pluginName","__command","pluginBundle","name","layers","length","UI","alert","newLineSeparator","sep","pasteBoard","NSPasteboard","generalPasteboard","stringFromPasteBoard","stringForType","NSPasteboardTypeString","pasteboardLines","split","selectedSymbols","filter","layer","type","symbolsWithOverrides","symbol","overrides","symbolsIDs","map","symbolId","uniqueSymbolIDs","onlyUnique","warningMsg","informativeText","stringvalueOverrides","override","property","overrideOptions","index","parseInt","value","COSAlertWindow","new","setMessageText","addButtonWithTitle","setInformativeText","alert_width","overrideOptions_label","createLabel","NSMakeRect","overrideOptions_dropdown","createDropdown","addAccessoryView","reverse_checkbox","createCheckbox","overrideIndex","responseCode","runModal","dropddownIndex","indexOfSelectedItem","overrideID","id","i","reverse","Number","state","clip","clip_filled","iterativeGapFilling","message","getSymbolInstances","source","symbolMaster","symbolInstances","NSMutableArray","array","sketchObject","pages","forEach","page","predicate","NSPredicate","predicateWithFormat","objectID","children","filteredArrayUsingPredicate","instance","addObject","self","indexOf","newArray","loop","Math","floor","push","text","fontSize","bold","frame","opacity","label","NSTextField","alloc","initWithFrame","setStringValue","setFont","NSFont","boldSystemFontOfSize","systemFontOfSize","setBezeled","setDrawsBackground","setEditable","setSelectable","setAlphaValue","createTextField","placeholder","textfield","cell","setWraps","setScrollable","setPlaceholderString","values","dropdown","NSPopUpButton","addItemsWithTitles","checked","NSOffState","NSOnState","checkbox","NSButton","setButtonType","NSSwitchButton","setBezelStyle","setTitle","setState"],"mappings":"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","file":"cliptexttosymbol.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/cliptexttosymbol.js\");\n","import sketch from 'sketch'\n// documentation: https://developer.sketchapp.com/reference/api/\n// https://github.com/sonburn/symbol-instance-locator/blob/master/Symbol%20Instance%20Locator.sketchplugin/Contents/Sketch/script.js\n\nvar symbolOverrideLayers;\n\n\nexport default function() {\n\tlog('~~ Run Chippen charts ~~')\n\n\tconst doc = sketch.getSelectedDocument()\n\tconst selectedLayers = doc.selectedLayers\n\n\tvar pluginName = __command.pluginBundle().name();\n\n\tif(selectedLayers.layers.length == 0) {\n\t\tsketch.UI.alert(pluginName,'Please select at least 1 layer that contains a symbol override.');\n\n\t\treturn false;\n\t}\n\t\t\n\t\n\t/*\n\t\tCLIPBOARD\n\t*/\n\n\tvar newLineSeparator = \"\\n\";\n\tvar sep = newLineSeparator;\n\n\tvar pasteBoard = NSPasteboard.generalPasteboard();\n    // Turn a data in the string type\n    var stringFromPasteBoard = pasteBoard.stringForType(NSPasteboardTypeString);\n\n    if(stringFromPasteBoard == null){\n    \tsketch.UI.alert(pluginName,'Your clipboard does not seem to be just text. Try again with only lines of text.');\n    \treturn false;\n    }\n\n    var pasteboardLines = stringFromPasteBoard.split(newLineSeparator)\n    \n\n\t/*\n\t\tSELECTED SYMBOLS\n\t*/\n\n\tconst selectedSymbols = selectedLayers.layers.filter(layer => layer.type == \"SymbolInstance\" || layer.type == \"SymbolMaster\")\n\tif (selectedSymbols.length == 0) {\n\t\tsketch.UI.alert(pluginName,'Please select at least 1 layer that contains a symbol.');\n\t\treturn false;\n\t}\n\t\n\tconst symbolsWithOverrides = selectedSymbols.filter(symbol => symbol.overrides.length != 0)\n\tif (symbolsWithOverrides.length == 0) {\n\t\tsketch.UI.alert(pluginName,'Please select at least 1 symbol that contains a text override.');\n\t\treturn false;\n\t}\n\n\tconst symbolsIDs = symbolsWithOverrides.map(symbol => {\n\t\treturn symbol.symbolId\n\t})\n\n\tconst uniqueSymbolIDs = symbolsIDs.filter( onlyUnique ); \n\t\n\tif(uniqueSymbolIDs.length > 1){\n\t\tsketch.UI.alert(pluginName,`Please use only symbols of the same kind. Maybe you want to try to use only symbols like \"${symbolsWithOverrides[0].name}\".`);\n\t\treturn false;\n\t}\n\n\n\t/*\n\t\tInformative Text\n\t*/\n\n\tvar warningMsg = \"\"\n\tif(pasteboardLines.length > symbolsWithOverrides.length){\n\t\twarningMsg = `There are more lines of text in the clipboard (${pasteboardLines.length}) than there are symbols in the selection (${symbolsWithOverrides.length}). That means not all content from clipboard will be used.`\n\t}else if(symbolsWithOverrides.length > pasteboardLines.length){\n\t\twarningMsg = `There are more symbols selected (${symbolsWithOverrides.length}) than there are lines of text in the clipboard (${pasteboardLines.length}). Clipboard text will be repeated in the overflow symbols.`\n\t}\n\n\tvar informativeText = \"\"\n\tif(warningMsg != \"\"){\n\t\tinformativeText = \"⚠️ Watch out! - \" + warningMsg + \" \\n\\nYou can go ahead but outcomes might not be as expected.\"\n\t}else{\n\t\tinformativeText = `You are about to alter ${symbolsWithOverrides.length} symbol overrides using text from the clipboard.`\n\t}\n\n\n\t/*\n\t\tDropdown options\n\t*/\n\n\tconst stringvalueOverrides = symbolsWithOverrides[0].overrides.filter(override => override.property == 'stringValue')\n\t\n\tconst overrideOptions = stringvalueOverrides.map((override, index) => {\n\t\treturn \"Override \" + (parseInt(index)+1) + \" (\" + override.value + \")\"\n\t})\n\t\n\n\t/*\n\t\tSetup the window\n \t*/\n\t\n\tvar alert = COSAlertWindow.new()\n\talert.setMessageText(\"Paste clipboard text into symbol overrides\")\n\talert.addButtonWithTitle(\"Run\")\n\talert.addButtonWithTitle(\"Cancel\")\n\talert.setInformativeText(informativeText)\n\t\n\n\t/*\n\t\tInput\n \t*/\n\n \t// OVERRIDE DROPDOWN\n \tvar alert_width = 280;\n\tvar overrideOptions_label = createLabel(\"What override shall it be? \", 12, true, NSMakeRect(0, 0, alert_width, 16));\n \tvar overrideOptions_dropdown = createDropdown(overrideOptions, NSMakeRect(-2, -1, 280, 24));\n\n \tif(overrideOptions.length>1){\n \t\talert.addAccessoryView(overrideOptions_label);\n \t\talert.addAccessoryView(overrideOptions_dropdown);\t\n \t}\n\n \t// REVERSE CHECKBOX\n \tvar reverse_checkbox = createCheckbox(\"Reverse order of clipboard text\", false, NSMakeRect(-2, -1, 280, 24));\n \t\n \tif(pasteboardLines.length>1){\n \t\talert.addAccessoryView(reverse_checkbox);\n \t}\n \n\n \t/*\n\t\tResponse\n\t*/\n\n\tvar overrideIndex;\n\tvar responseCode = alert.runModal();\n\t\n\tif(responseCode == 1000){\n\t\t// Dropdown input\n\t\tvar dropddownIndex = overrideOptions_dropdown.indexOfSelectedItem();\n\t\tvar overrideID = stringvalueOverrides[dropddownIndex].id;\n\n\t\t// Mapping index of dropdown to index of overrides.\n\t\t// Dropdown does only include stringValue overrides\n\t\t// and no symbolID overrides (top level of nested symbol).\n\t\t// That's why the length can differ.\n\t\tfor(var i=0; i<symbolsWithOverrides[0].overrides.length; i++){\n\t\t\tif(symbolsWithOverrides[0].overrides[i].id == overrideID){\n\t\t\t\toverrideIndex = i;\n\t\t\t}\n\t\t}\n\t\t// Checkbox input\n\t\tvar reverse = false;\n\t\tif( Number(reverse_checkbox.state()) == 1 ){\n\t\t\treverse = true;\n\t\t}\n\t}else{\n\t\t// 1001\n\t\treturn false;\n\t}\n\n\n\t/*\n\t\tOVERRIDE\n\t*/\n\n\tvar clip = pasteboardLines;\n\n\tif(reverse){\n\t\tclip.reverse();\n\t}\n\n\tif(symbolsWithOverrides.length > clip.length){\n\t\tvar clip_filled = iterativeGapFilling(clip, symbolsWithOverrides.length)\n\t\tclip = clip_filled;\n\t}\n\n\tfor(var i=0; i<symbolsWithOverrides.length; i++){\n\t\t\tsymbolsWithOverrides[i].overrides[overrideIndex].value = clip[i]\n\t\t}\n\tsketch.UI.message(`Text from clipboard was pasted into ${symbolsWithOverrides.length} symbols`)\n\n}\n\n\nfunction getSymbolInstances(source,symbolMaster) {\n\t// https://github.com/sonburn/\n\tvar symbolInstances = NSMutableArray.array();\n\n\tsource.sketchObject.pages().forEach(function(page){\n\t\tvar predicate = NSPredicate.predicateWithFormat('className == %@ && symbolMaster.objectID == %@','MSSymbolInstance',symbolMaster.sketchObject.objectID());\n\n\t\tpage.children().filteredArrayUsingPredicate(predicate).forEach(instance => symbolInstances.addObject(instance));\n\t});\n\n\treturn symbolInstances;\n}\n\nfunction onlyUnique(value, index, self) { \n    return self.indexOf(value) === index;\n}\n\nfunction iterativeGapFilling(array, length){\n\tvar newArray = [];\n\tfor(var i=0; i<length; i++){\n    \tvar loop = Math.floor(i/array.length);\n \t\tvar index = i-(loop*array.length);\n    \tnewArray.push(array[index]);\n\t}\n\treturn newArray;\n}\n\n/*\n\tUtils from Marc Bouchenoire\n\tfor easier UI design\n\thttps://github.com/bouchenoiremarc\n*/\n\nfunction createLabel(text, fontSize, bold, frame, opacity) {\n  var label = NSTextField.alloc().initWithFrame(frame)\n  label.setStringValue(text)\n  label.setFont((bold) ? NSFont.boldSystemFontOfSize(fontSize) : NSFont.systemFontOfSize(fontSize))\n  label.setBezeled(false)\n  label.setDrawsBackground(false)\n  label.setEditable(false)\n  label.setSelectable(false)\n  if (opacity) label.setAlphaValue(opacity)\n\n  return label\n}\nfunction createTextField(value, placeholder, frame) {\n  var textfield = NSTextField.alloc().initWithFrame(frame)\n  textfield.cell().setWraps(false);\n  textfield.cell().setScrollable(true);\n  textfield.setStringValue(value);\n  if (placeholder) textfield.setPlaceholderString(placeholder);\n\n  return textfield\n}\n\nfunction createDropdown(values, frame){\n  var dropdown = NSPopUpButton.alloc().initWithFrame(frame)\n  dropdown.addItemsWithTitles(values)\n\n  return dropdown\n}\n\nfunction createCheckbox(text, checked, frame) {\n    checked = (checked == false) ? NSOffState : NSOnState\n    var checkbox = NSButton.alloc().initWithFrame(frame)\n    checkbox.setButtonType(NSSwitchButton)\n    checkbox.setBezelStyle(0)\n    checkbox.setTitle(text)\n    checkbox.setState(checked)\n\n    return checkbox\n}","module.exports = require(\"sketch\");"],"sourceRoot":""}