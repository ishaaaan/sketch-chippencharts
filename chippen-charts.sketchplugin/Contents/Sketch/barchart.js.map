{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/barchart.js","webpack://exports/./src/utils.js","webpack://exports/external \"sketch\""],"names":["log","doc","sketch","getSelectedDocument","selectedLayers","isVertical","isVerticalBarchart","minMax_fromSelection","getMinMax","response","myinput","layers","length","minMax","min","max","code","myRandomSlots","trendTypeInput","twoRandomSlots","forcetype","trendTypeInput_name","isVertical_name","UI","message","firstBarVal","getValFromLayerName","name","baseLine","frame","y","height","Math","abs","x","i","newLength","floor","random","stepIncrease","increase_random","plusOrMinus","round","width","renameLayer","arr","thisHeight","thisWidth","ceil","type","slotOne","slotTwo","myMinMax","numOfBars","my_isVertical","myresponse","alert","view","NSView","alloc","initWithFrame","NSMakeRect","minInput","NSTextField","cell","setPlaceholderString","addSubview","maxInput","buttonFormat","NSButtonCell","init","setButtonType","NSRadioButton","matrixFormat","NSMatrix","initWithFrame_mode_prototype_numberOfRows_numberOfColumns","NSRadioModeMatrix","setCellSize","CGSizeMake","cells","objectAtIndex","setTitle","bartype_label","createLabel","bartype_radio","matrixFormat_bartype","bartype_radio1_label","bartype_radio2_label","cells_bartype","COSAlertWindow","new","setMessageText","addButtonWithTitle","setInformativeText","extrema_label","addAccessoryView","trend_label","window","setInitialFirstResponder","setNextKeyView","note_line1","responseCode","runModal","stringValue","parseInt","forcetype_index","indexOfObject","selectedCell","getSymbolInstances","source","symbolMaster","symbolInstances","NSMutableArray","array","sketchObject","pages","forEach","page","predicate","NSPredicate","predicateWithFormat","objectID","children","filteredArrayUsingPredicate","instance","addObject","onlyUnique","value","index","self","indexOf","iterativeGapFilling","newArray","loop","push","text","fontSize","bold","opacity","label","setStringValue","setFont","NSFont","boldSystemFontOfSize","systemFontOfSize","setBezeled","setDrawsBackground","setEditable","setSelectable","setAlphaValue","createTextField","placeholder","textfield","setWraps","setScrollable","createDropdown","values","dropdown","NSPopUpButton","addItemsWithTitles","createCheckbox","checked","NSOffState","NSOnState","checkbox","NSButton","NSSwitchButton","setBezelStyle","setState","a","split","b","val","parseFloat","isNaN","newVal","newName","getBarHeight","barLength_str","thisLength","undefined","toFixed"],"mappings":"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","file":"barchart.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/barchart.js\");\n","import sketch from 'sketch'\nimport { getValFromLayerName, renameLayer, isVerticalBarchart, createLabel } from \"./utils.js\";\n// documentation: https://developer.sketchapp.com/reference/api/\n\nexport default function() {\n\tlog('~~ Run Chippen charts ~~')\n\tconst doc = sketch.getSelectedDocument()\n\tconst selectedLayers = doc.selectedLayers\n\n\t/* \n\t\tAnalyse selected layers\n\t*/\n\t\n\tvar isVertical = isVerticalBarchart(doc.selectedLayers)\n\tvar minMax_fromSelection = getMinMax(doc.selectedLayers, isVertical)\n\n\n\t/* \n\t\tUser input\n\t*/\n\n\tvar response = myinput(minMax_fromSelection, doc.selectedLayers.layers.length, isVertical)\n\tvar minMax = [response.min, response.max]\n\tif (response.code !== 1000) {\n\t\t\treturn\n\t\t}\n\tvar myRandomSlots = []\n\tif(response.trendTypeInput == 0){\n\t\t// Only for random trend\n\t\t// Set 2 random bars to min and max\n\t\tmyRandomSlots = twoRandomSlots(selectedLayers.layers.length, 'Random')\n\t}\n\n\t// Force other type than detected if user has selected force type\n \tif(response.forcetype){isVertical = !isVertical}\n\t \n\n\t/* \n\t\tUI message\n\t*/\n\n\tvar trendTypeInput_name = [\n\t\t\"random data\",\n\t\t\"trend going up ↑ (linear)\",\n\t\t\"trend going up ↑ (natural)\",\n\t\t\"trend going down ↓ (linear)\",\n\t\t\"trend going down ↓ (natural)\"\n\t]\n\n\tvar isVertical_name = \"vertical\"\n\tif(!isVertical){isVertical_name = \"horizontal\"}\n\tsketch.UI.message(`${doc.selectedLayers.length} ${isVertical_name} bars with ${trendTypeInput_name[response.trendTypeInput]} (${minMax[0]}px–${minMax[1]}px)`)\n\n\t\n\t/* \n\t\tChanging size\n\t*/\n\n\tconst firstBarVal = getValFromLayerName(selectedLayers.layers[0].name);\n\tvar baseLine = 0;\n\n\tif(isVertical){\n\t\tbaseLine = selectedLayers.layers[0].frame.y + selectedLayers.layers[0].frame.height;\n\t\t// Adjust when first value of existing bar is negative \n\t\t// Based on layer name\n\t\tif(firstBarVal < 0){baseLine = baseLine - Math.abs(firstBarVal)};\n\t}else{\n\t\tif(firstBarVal >= 0){\n\t\t\tbaseLine = selectedLayers.layers[0].frame.x\t\n\t\t}else if(firstBarVal < 0){\n\t\t\tbaseLine = selectedLayers.layers[0].frame.x\t+ Math.abs(firstBarVal)\n\t\t}\n\t}\n\n\tfor(var i = 0; i<selectedLayers.layers.length; i++){\n\t\t\n\t\tvar newLength = 1\n\n\t\tif(response.trendTypeInput == 3 || response.trendTypeInput == 4){\n\t\t\t// reverse minMax if trend is going down\n\t\t\t// and after that just use same code as for trend going up\n\t\t\tminMax = [minMax[1], minMax[0]]\n\t\t\tresponse.trendTypeInput = response.trendTypeInput-2\n\t\t}\n\n\t\t// Random\n\t\tif(response.trendTypeInput == 0){\n\t\t\t// random values between min and max\n\t\t\tnewLength = Math.floor(Math.random() * (minMax[1]-minMax[0]) ) + minMax[0]    \n\t\t\tif(i == myRandomSlots[0]){\n\t\t\t\t// force a random slot to be min\n\t\t\t\tnewLength = minMax[0]\n\t\t\t}\n\t\t\tif(i == myRandomSlots[1]){\n\t\t\t\t// force a random slot to be max\n\t\t\t\tnewLength = minMax[1]\n\t\t\t}\n\t\t}\n\t\t// Trend going up\n\t\tif(response.trendTypeInput == 1 || response.trendTypeInput == 2){\n\t\t\tvar stepIncrease = (minMax[1] - minMax[0]) / selectedLayers.layers.length\n\t\t\tif(response.trendTypeInput == 1){\n\t\t\t\tnewLength = (stepIncrease * i) + minMax[0]\n\t\t\t}else if(response.trendTypeInput == 2){\n\t\t\t\tvar increase_random = stepIncrease * Math.random()\n\t\t\t\tvar plusOrMinus = Math.random() < 0.5 ? -1 : 1;\n\t\t\t\tnewLength = (stepIncrease * i) + minMax[0] + (increase_random * plusOrMinus)    \n\t\t\t}\n\t\t\t// force first and last to be min and max\n\t\t\tif(i == 0){ newLength = minMax[0] }\n\t\t\telse if(i == selectedLayers.layers.length-1){\n\t\t\t\t\tnewLength = minMax[1]\n\t\t\t\t}\n\t\t\tnewLength = Math.round(newLength * 10) / 10\n\t\t}\n\t\t\n\t\t// Length can't be zero\n\t\tif(newLength == 0){ newLength = 1 }\n\n\t\t// Change Width / Height\n\t\tif(isVertical){\n\t\t\t// Change height\n\t\t\tselectedLayers.layers[i].frame.height = Math.abs(newLength);\n\t\t\t// Move to baseline\n\t\t\tif(newLength > 0){\n\t\t\t\t// Reposition bars with positive values\n\t\t\t\tselectedLayers.layers[i].frame.y = baseLine - Math.abs(newLength);\n\t\t\t}else{\n\t\t\t\t// Reposition bars with negative values\n\t\t\t\tselectedLayers.layers[i].frame.y = baseLine;\n\t\t\t}\n\t\t}else{\n\t\t\t// Reset position, just in case\n\t\t\tselectedLayers.layers[i].frame.x = baseLine;\n\n\t\t\t// Change Width\n\t\t\tselectedLayers.layers[i].frame.width = Math.abs(newLength);\n\n\t\t\t// Reposition bars with negative values\n\t\t\tif(newLength < 0){\n\t\t\t\tselectedLayers.layers[i].frame.x = selectedLayers.layers[i].frame.x - Math.abs(newLength)\n\t\t\t}\n\t\t}\t\t\t\n\t\t\t\n\t\t// Rename layer\t\n\t\t// Example: Rectangle ==> Rectangle {:12:}\n\t\tselectedLayers.layers[i].name = renameLayer(selectedLayers.layers[i].name, newLength)\n\t}\n}\n\nfunction getMinMax(arr, isVertical){\n\t// arr needs to be doc.selectedLayers\n\tvar min = 0;\n\tvar max = 0;\n\n\tif(isVertical){\n\t\t// Vertical bar chart (get minMax height)\n\t\tfor(var i = 0; i<arr.layers.length; i++){\n\t\t\tvar thisHeight = arr.layers[i].frame.height\n\t\t\t// Max\n\t\t\tif(thisHeight >max){\n\t\t\t\tmax = thisHeight\n\t\t\t}\n\t\t\t// Min\n\t\t\tif(min == 0){\n\t\t\t\t// set min at first runfirst\n\t\t\t\tmin = max   \n\t\t\t}\n\t\t\tif(thisHeight < min){\n\t\t\t\tmin = thisHeight\n\t\t\t}\n\t\t}\n\t}else{\n\t\t// Horizontal bar chart (get minMax width)\n\t\tfor(var i = 0; i<arr.layers.length; i++){\n\t\t\tvar thisWidth = arr.layers[i].frame.width\n\t\t\t// Max\n\t\t\tif(thisWidth > max){\n\t\t\t\tmax = thisWidth\n\t\t\t}\n\t\t\t// Min\n\t\t\tif(min == 0){\n\t\t\t\t// set min at first run\n\t\t\t\tmin = max   \n\t\t\t}\n\t\t\tif(thisWidth < min){\n\t\t\t\tmin = thisWidth\n\t\t\t}\n\t\t}\n\t}\n\n\treturn [Math.ceil(min), Math.ceil(max)]\n}\n\nfunction twoRandomSlots(length, type){\n\tvar slotOne = 0\n\tvar slotTwo = 0\n\n\tif(type=='Random'){\n\t\tslotOne = Math.floor( Math.random() * length/2) \n\t\tslotTwo = Math.floor( Math.random() * length/2) + Math.floor(length/2)\n\t}\n\treturn [slotOne, slotTwo]\n}\n\n\nfunction myinput(myMinMax=[20,100], numOfBars=\"\", my_isVertical){\n\tvar myresponse = {}\n\n\tif(myMinMax.length != 2 || myMinMax[0]==myMinMax[1]){\n\t\tif(myMinMax[0] > 100){\n\t\t\tmyMinMax = [20,myMinMax[1]]\n\t\t}else{\n\t\t\tmyMinMax = [myMinMax[0],100]\n\t\t}\n\t\t\n\t}\n\n\tif(numOfBars==0){\n\t\tmyresponse.code == 1001\n\t\tsketch.UI.alert(\"Sorry buddy\", \"You need to select multiple rectangles (bars) for this plugin to work.\")\n\t}\n\tif(numOfBars!=0){\n\n\t\tif(numOfBars==1){\n\t\t\tsketch.UI.alert(\"Hey, just letting you know\", \"Most awesome results come when selecting more than 1 bar.\")\n\t\t}\n\n\t\t// Create initial view panel\n\t \tvar width = 280\n\t \tvar height = 40\n\t \tvar view = NSView.alloc().initWithFrame(NSMakeRect(0, 0, width, height))\n\n\t \t// Min Max input\n\t \tvar minInput = NSTextField.alloc().initWithFrame(NSMakeRect(0.0, 15.0, 130, 25.0));\n\t        minInput.cell().setPlaceholderString(myMinMax[0] + \" (min)\");\n\t    view.addSubview(minInput);\n\n\t    var maxInput = NSTextField.alloc().initWithFrame(NSMakeRect(150, 15.0, 130, 25.0));\n\t        maxInput.cell().setPlaceholderString(myMinMax[1] + \" (max)\");\n\t    view.addSubview(maxInput);\n\n\t\t// Nature of data\n\t\tvar trendTypeInput =  NSView.alloc().initWithFrame(NSMakeRect(0, 0, width, 135))\n\t\t// Acts like a template (prototype) for our radio buttons\n\t\tvar buttonFormat;\n\t\t  buttonFormat = NSButtonCell.alloc().init();\n\t\t  buttonFormat.setButtonType(NSRadioButton);\n\n\t\t// The matrix will contain all the cells (radio buttons)\n\t\tvar matrixFormat = NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(\n\t\t            NSMakeRect(0, 0, 260, 135), // Horizontal position, vertical position, width, height\n\t\t            NSRadioModeMatrix, // This makes the radio buttons work together\n\t\t            buttonFormat,\n\t\t            5, // 1 row\n\t\t            1 // 3 columns (for 3 radio buttons)\n\t\t        );\n\n\t\t// Settings the size of the radio buttons\n\t\tmatrixFormat.setCellSize(CGSizeMake(260, 25));\n\n\t\t// Adding the radio buttons to the form\n\t\tvar cells = matrixFormat.cells();\n\t\t              cells.objectAtIndex(0).setTitle(\"Random\");\n\t\t              cells.objectAtIndex(1).setTitle(\"Trend going up ↑ (linear)\");\n\t\t              cells.objectAtIndex(2).setTitle(\"Trend going up ↑ (natural)\");\n\t\t              cells.objectAtIndex(3).setTitle(\"Trend going down ↓ (linear)\");\n\t\t              cells.objectAtIndex(4).setTitle(\"Trend going down ↓ (natural)\");\n\n\t\t// Adding the matrix to the form\n\t\ttrendTypeInput.addSubview(matrixFormat);\n\n\n\t\t// Bar type: Vertical or horizontal\n\n\t \tvar bartype_label = createLabel(\"Vertical or horizontal?\", 12, true, NSMakeRect(0, 0, width, 16));\n\n\t\tvar bartype_radio =  NSView.alloc().initWithFrame(NSMakeRect(0, 0, width, 48))\n\n\t\tvar matrixFormat_bartype = NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(\n\t\t            NSMakeRect(0, 0, 260, 48),\n\t\t            NSRadioModeMatrix,\n\t\t            buttonFormat, 2, 1\n\t\t        );\n\n\t\tmatrixFormat_bartype.setCellSize(CGSizeMake(260, 25));\n\n\t\tvar bartype_radio1_label = my_isVertical ? \"Automatic (vertical detected)\" : \"Automatic (horizontal detected)\"\n\t\tvar bartype_radio2_label = my_isVertical ? \"Force horizontal\" : \"Force vertical\"\n\t\tvar cells_bartype = matrixFormat_bartype.cells();\n\t\t              cells_bartype.objectAtIndex(0).setTitle(bartype_radio1_label);\n\t\t              cells_bartype.objectAtIndex(1).setTitle(bartype_radio2_label);\n\n\t\tbartype_radio.addSubview(matrixFormat_bartype);\n\n\n\t\t// Setup the window\n\t\tvar alert = COSAlertWindow.new()\n\t\tif(numOfBars==1){\n\t\t\talert.setMessageText(`Create your random bar chart \\nwith 1 selected layer`)\n\t\t}else{\n\t\t\talert.setMessageText(`Create your random bar chart \\nwith ${numOfBars} selected layers`)\n\t\t}\n\t\t\n\t\talert.addButtonWithTitle(\"Run\")\n\t\talert.addButtonWithTitle(\"Cancel\")\n\t\talert.setInformativeText(`This is for a bar chart where random values are applied \\nto the layers of your selection.`)\n\t\t\n\t\tvar extrema_label = createLabel(\"Define extrema of bars\", 12, true, NSMakeRect(0, 0, width, 16));\n\t\talert.addAccessoryView(extrema_label)\n\t\t\t\t\n\t\t//alert.addTextLabelWithValue(\"Define extrema of bars\");\n\t \talert.addAccessoryView(view)\n\t \t\n\t\tvar trend_label = createLabel(\"Specify the desired trend\", 12, true, NSMakeRect(0, 0, width, 16));\n\t\talert.addAccessoryView(trend_label)\n\t \t//alert.addTextLabelWithValue(\"Specify the desired trend\");\n\t \talert.addAccessoryView(trendTypeInput)\n\t \t\n\t \talert.addAccessoryView(bartype_label);\n\t \talert.addAccessoryView(bartype_radio)\n\t \t\n\t\t/*\n\t\t\tKey navigation (popup)\n\t \t*/\n\n\t \talert.alert().window().setInitialFirstResponder(minInput)\n\t \tminInput.setNextKeyView(maxInput)\n\t \tmaxInput.setNextKeyView(minInput)\n\n\n\t \t/*\n\t\t\tNote\n\t \t*/\n\t \tvar note_line1 = createLabel(\"\\nPlease make sure proportional scaling is disabled\", 11, false, NSMakeRect(0, 0, width, 16*2), 0.3);\n\t \talert.addAccessoryView(note_line1);\n\n\t \tvar responseCode = alert.runModal();\n\n\t \tif(responseCode == 1000){\n\t \t\tmyresponse.code = 1000\n\t \t\t// OK\n\t \t\t// pass minmax input\n\t \t\tif(minInput.stringValue() == \"\"){\n\t \t\t\tmyresponse.min = myMinMax[0]\n\t \t\t}else{\n\t \t\t\tmyresponse.min = parseInt(minInput.stringValue())\n\t \t\t}\n\t \t\tif(maxInput.stringValue() == \"\"){\n\t \t\t\tmyresponse.max = myMinMax[1]\n\t \t\t}else{\n\t \t\t\tmyresponse.max = parseInt(maxInput.stringValue())\n\t \t\t}\n\n\t \t\t// Force bar chart type\n\t \t\tvar forcetype_index = matrixFormat_bartype.cells().indexOfObject(matrixFormat_bartype.selectedCell());\n\t \t\tmyresponse.forcetype = forcetype_index == 0 ? false : true;\n\t \t}else{\n\t \t\t// Cancel\n\t \t\tmyresponse.code = 1001\n\t \t}\n\t \tmyresponse.trendTypeInput = matrixFormat.cells().indexOfObject(matrixFormat.selectedCell())\n\t }\n\t return myresponse\n}\n\n\n\n\n\n\n\n","export function getSymbolInstances(source,symbolMaster) {\n\t// https://github.com/sonburn/\n\tvar symbolInstances = NSMutableArray.array();\n\n\tsource.sketchObject.pages().forEach(function(page){\n\t\tvar predicate = NSPredicate.predicateWithFormat('className == %@ && symbolMaster.objectID == %@','MSSymbolInstance',symbolMaster.sketchObject.objectID());\n\n\t\tpage.children().filteredArrayUsingPredicate(predicate).forEach(instance => symbolInstances.addObject(instance));\n\t});\n\n\treturn symbolInstances;\n}\n\nexport function onlyUnique(value, index, self) { \n    return self.indexOf(value) === index;\n}\n\nexport function iterativeGapFilling(array, length){\n\tvar newArray = [];\n\tfor(var i=0; i<length; i++){\n    \tvar loop = Math.floor(i/array.length);\n \t\tvar index = i-(loop*array.length);\n    \tnewArray.push(array[index]);\n\t}\n\treturn newArray;\n}\n\n\n/**********************/\n/*       POPUP        */\n/**********************/\n\n/*\n\tUtils from Marc Bouchenoire\n\tfor easier UI design\n\thttps://github.com/bouchenoiremarc\n*/\n\nexport function createLabel(text, fontSize, bold, frame, opacity) {\n  var label = NSTextField.alloc().initWithFrame(frame)\n  label.setStringValue(text)\n  label.setFont((bold) ? NSFont.boldSystemFontOfSize(fontSize) : NSFont.systemFontOfSize(fontSize))\n  label.setBezeled(false)\n  label.setDrawsBackground(false)\n  label.setEditable(false)\n  label.setSelectable(false)\n  if (opacity) label.setAlphaValue(opacity)\n\n  return label\n}\nexport function createTextField(value, placeholder, frame) {\n  var textfield = NSTextField.alloc().initWithFrame(frame)\n  textfield.cell().setWraps(false);\n  textfield.cell().setScrollable(true);\n  textfield.setStringValue(value);\n  if (placeholder) textfield.setPlaceholderString(placeholder);\n\n  return textfield\n}\n\nexport function createDropdown(values, frame){\n  var dropdown = NSPopUpButton.alloc().initWithFrame(frame)\n  dropdown.addItemsWithTitles(values)\n\n  return dropdown\n}\n\nexport function createCheckbox(text, checked, frame) {\n    checked = (checked == false) ? NSOffState : NSOnState\n    var checkbox = NSButton.alloc().initWithFrame(frame)\n    checkbox.setButtonType(NSSwitchButton)\n    checkbox.setBezelStyle(0)\n    checkbox.setTitle(text)\n    checkbox.setState(checked)\n\n    return checkbox\n}\n\n\n/**********************/\n/* VAL IN LAYER NAME  */\n/**********************/\n\nexport function getValFromLayerName(name){\n\t\n\tvar a = name.split(\"{:\")\n\tif(a.length == 1){return false;}\n\tvar b = a[1].split(\":}\");\n\n\tvar val = parseFloat(b[0])\n\tif(isNaN(val)){return false;}\n\t\n\treturn  val;\n}\n\nexport function renameLayer(name, newVal){\n\t\n\tvar a = name.split(\"{:\")\n\tvar newName = name + \" {:\" + newVal + \":}\";\n\n\tif(a.length > 1){\n\t\tvar b = a[1].split(\":}\");\n\t\tif(b.length == 1){return newName;}\n\t\tvar newName = a[0] + \"{:\" + newVal + \":}\" + b[1];\n\t}\n\n\treturn newName\n}\n\n\n/**********************/\n/*     BARCHART       */\n/**********************/\n\nexport function isVerticalBarchart(arr){\n\t// arr needs to be doc.selectedLayers\n\tvar isVertical = true\n\tif(arr.layers.length >= 2 && arr.layers[0].frame.y != arr.layers[1].frame.y){\n\t\t// It's horizontal if\n\t\t// 1. First two bars share same x value (works for positive values)\n\t\tif(arr.layers[0].frame.x == arr.layers[1].frame.x){\n\t\t\tisVertical = false;\n\t\t}\n\t\t// 2. Same y-baseline (works if first value is negative) \n\t\t// and they share same height\n\t\t// ! Needs check if first / second val is negative\n\t\telse if(arr.layers[0].frame.x + arr.layers[0].frame.width == arr.layers[1].frame.x && arr.layers[0].frame.height == arr.layers[1].frame.height){\n\t\t\tisVertical = false;\t\n\t\t}\n\t\telse if(arr.layers[1].frame.x + arr.layers[1].frame.width == arr.layers[0].frame.x && arr.layers[0].frame.height == arr.layers[1].frame.height){\n\t\t\tisVertical = false;\t\n\t\t}\n\t}\n\treturn isVertical\n}\n\n\n/**********************/\n/* NON-RANDO BARCHART */\n/**********************/\n\nexport function getBarHeight(arr, isVertical){\n\t// arr needs to be doc.selectedLayers\n\tvar barLength_str = \"\"\n\t\n\tfor(var i=0; i<arr.layers.length; i++){\n\t\tvar thisLength = undefined;\n\t\tif(isVertical){\n\t\t\tthisLength = arr.layers[i].frame.height.toFixed(2); // reduce to 2 decimals\n\t\t}else{\n\t\t\tthisLength = arr.layers[i].frame.width.toFixed(2); // reduce to 2 decimals\n\t\t}\n\t\tthisLength = parseFloat(thisLength) // to remove decimals from integers\n\t\tif(i==0){\n\t\t\tbarLength_str = \"\" + thisLength\t\n\t\t}else{\n\t\t\tbarLength_str = barLength_str + \",\" + thisLength\n\t\t}\n\t\t\n\t}\n\treturn barLength_str\n}","module.exports = require(\"sketch\");"],"sourceRoot":""}