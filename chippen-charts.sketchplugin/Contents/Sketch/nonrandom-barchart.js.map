{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/nonrandom-barchart.js","webpack://exports/./src/utils.js","webpack://exports/external \"sketch\""],"names":["log","doc","sketch","getSelectedDocument","selectedLayers","isVertical","isVerticalBarchart","minMax_fromSelection","getMinMax","barHeight_fromSelection","getBarHeight","response","myinput","layers","length","scaleType_names","minMax","min","max","code","myRandomSlots","isVertical_name","alert_diff","numbers","message_options","scaleType","scaleValue","UI","message","baseLine","firstBarVal","getValFromLayerName","name","frame","y","height","Math","abs","x","i","newLength","undefined","width","renameLayer","alert","arr","thisHeight","thisWidth","ceil","myMinMax","numOfBars","myBarHeightFromSelection","myresponse","trendTypeInput","sampleNumbers","COSAlertWindow","new","setMessageText","addButtonWithTitle","setInformativeText","alert_width","numInput_separatorOptions","numInput_label","createLabel","NSMakeRect","numInput","createTextField","numInput_separator","createDropdown","addAccessoryView","optionsView_height","optionsView","NSView","alloc","initWithFrame","optionsLabel","optionsLabel_inlineNote","option1_label","option1_textField","option2_label","option2_textField","options_info","addSubview","window","setInitialFirstResponder","setNextKeyView","note_line1","responseCode","runModal","sep","sep_input","titleOfSelectedItem","numbers_str","stringValue","numbers_arr","split","push","parseFloat","reduce","a","b","getSymbolInstances","source","symbolMaster","symbolInstances","NSMutableArray","array","sketchObject","pages","forEach","page","predicate","NSPredicate","predicateWithFormat","objectID","children","filteredArrayUsingPredicate","instance","addObject","onlyUnique","value","index","self","indexOf","iterativeGapFilling","newArray","loop","floor","text","fontSize","bold","opacity","label","NSTextField","setStringValue","setFont","NSFont","boldSystemFontOfSize","systemFontOfSize","setBezeled","setDrawsBackground","setEditable","setSelectable","setAlphaValue","placeholder","textfield","cell","setWraps","setScrollable","setPlaceholderString","values","dropdown","NSPopUpButton","addItemsWithTitles","createCheckbox","checked","NSOffState","NSOnState","checkbox","NSButton","setButtonType","NSSwitchButton","setBezelStyle","setTitle","setState","val","isNaN","newVal","newName","barLength_str","thisLength","toFixed"],"mappings":";;;;;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;CAEA;;AAEe,2EAAW;AACzBA,KAAG,CAAC,0BAAD,CAAH;AACA,MAAMC,GAAG,GAAGC,6CAAM,CAACC,mBAAP,EAAZ;AACA,MAAMC,cAAc,GAAGH,GAAG,CAACG,cAA3B;AAEA;;;;AAIA,MAAIC,UAAU,GAAGC,oEAAkB,CAACL,GAAG,CAACG,cAAL,CAAnC;AAEA,MAAIG,oBAAoB,GAAGC,SAAS,CAACP,GAAG,CAACG,cAAL,EAAqBC,UAArB,CAApC;AACA,MAAII,uBAAuB,GAAGC,8DAAY,CAACT,GAAG,CAACG,cAAL,EAAqBC,UAArB,CAA1C;AAGA;;;;AAIA,MAAIM,QAAQ,GAAGC,OAAO,CAACL,oBAAD,EAAuBN,GAAG,CAACG,cAAJ,CAAmBS,MAAnB,CAA0BC,MAAjD,EAAyDL,uBAAzD,CAAtB;AAEA,MAAIM,eAAe,GAAG,CAAC,EAAD,EAAK,eAAL,EAAsB,yBAAtB,CAAtB;AAEA,MAAIC,MAAM,GAAG,CAACL,QAAQ,CAACM,GAAV,EAAeN,QAAQ,CAACO,GAAxB,CAAb;;AACA,MAAIP,QAAQ,CAACQ,IAAT,KAAkB,IAAtB,EAA4B;AAC1B;AACA;;AACF,MAAIC,aAAa,GAAG,EAApB;AAGA;;;;AAIA,MAAIC,eAAe,GAAG,UAAtB;;AACA,MAAG,CAAChB,UAAJ,EAAe;AAACgB,mBAAe,GAAG,YAAlB;AAA+B;;AAC/C,MAAIC,UAAU,GAAGlB,cAAc,CAACS,MAAf,CAAsBC,MAAtB,GAA+BH,QAAQ,CAACY,OAAT,CAAiBT,MAAjE;AACA,MAAIU,eAAe,GAAG,EAAtB;;AACA,MAAGb,QAAQ,CAACc,SAAT,IAAsB,CAAzB,EAA2B;AAC1BD,mBAAe,cAAOT,eAAe,CAACJ,QAAQ,CAACc,SAAV,CAAtB,cAA8Cd,QAAQ,CAACe,UAAvD,MAAf;AACA;;AACD,MAAGJ,UAAU,IAAI,CAAjB,EAAmB;AAClBpB,iDAAM,CAACyB,EAAP,CAAUC,OAAV,wBAAwB3B,GAAG,CAACG,cAAJ,CAAmBU,MAA3C,cAAqDO,eAArD,iCAA2FG,eAA3F;AACA,GAFD,MAEK;AACJtB,iDAAM,CAACyB,EAAP,CAAUC,OAAV,wBAAwBjB,QAAQ,CAACY,OAAT,CAAiBT,MAAzC,cAAmDO,eAAnD,iCAAyFG,eAAzF;AACA;AAGD;;;;;AAIA,MAAIK,QAAQ,GAAG,CAAf;AACA,MAAMC,WAAW,GAAGC,qEAAmB,CAAC3B,cAAc,CAACS,MAAf,CAAsB,CAAtB,EAAyBmB,IAA1B,CAAvC;;AAEA,MAAG3B,UAAH,EAAc;AACbwB,YAAQ,GAAGzB,cAAc,CAACS,MAAf,CAAsB,CAAtB,EAAyBoB,KAAzB,CAA+BC,CAA/B,GAAmC9B,cAAc,CAACS,MAAf,CAAsB,CAAtB,EAAyBoB,KAAzB,CAA+BE,MAA7E,CADa,CAEb;AACA;;AACA,QAAGL,WAAW,GAAG,CAAjB,EAAmB;AAACD,cAAQ,GAAGA,QAAQ,GAAGO,IAAI,CAACC,GAAL,CAASP,WAAT,CAAtB;AAA4C;AAChE,GALD,MAKK;AACJ,QAAGA,WAAW,IAAI,CAAlB,EAAoB;AACnBD,cAAQ,GAAGzB,cAAc,CAACS,MAAf,CAAsB,CAAtB,EAAyBoB,KAAzB,CAA+BK,CAA1C;AACA,KAFD,MAEM,IAAGR,WAAW,GAAG,CAAjB,EAAmB;AACxBD,cAAQ,GAAGzB,cAAc,CAACS,MAAf,CAAsB,CAAtB,EAAyBoB,KAAzB,CAA+BK,CAA/B,GAAmCF,IAAI,CAACC,GAAL,CAASP,WAAT,CAA9C;AACA;AACD;;AAED,OAAI,IAAIS,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACnC,cAAc,CAACS,MAAf,CAAsBC,MAAvC,EAA+CyB,CAAC,EAAhD,EAAmD;AAElD,QAAIC,SAAS,GAAG,CAAhB;;AAEA,QAAG7B,QAAQ,CAACY,OAAT,CAAiBgB,CAAjB,KAAuBE,SAA1B,EAAoC;AACnCD,eAAS,GAAGC,SAAZ,CADmC,CACb;AACtB,KAFD,MAEK;AACJ,UAAG9B,QAAQ,CAACc,SAAT,IAAsB,CAAzB,EAA2B;AAC1B;AACAe,iBAAS,GAAG7B,QAAQ,CAACY,OAAT,CAAiBgB,CAAjB,IAAsB5B,QAAQ,CAACe,UAA3C;AACA,OAHD,MAGM,IAAGf,QAAQ,CAACc,SAAT,IAAsB,CAAzB,EAA2B;AAChC;AACAe,iBAAS,GAAI7B,QAAQ,CAACY,OAAT,CAAiBgB,CAAjB,IAAsB5B,QAAQ,CAACe,UAAhC,GAA8Cf,QAAQ,CAACO,GAAnE;AACA,OAHK,MAGD;AACJ;AACAsB,iBAAS,GAAG7B,QAAQ,CAACY,OAAT,CAAiBgB,CAAjB,CAAZ;AACA;AACD,KAjBiD,CAmBlD;;;AACA,QAAGC,SAAS,IAAI,CAAhB,EAAkB;AACjBA,eAAS,GAAG,GAAZ;AACA7B,cAAQ,CAACY,OAAT,CAAiBgB,CAAjB,IAAsB,GAAtB;AACA,KAvBiD,CAyBlD;;;AACA,QAAGlC,UAAH,EAAc;AACb;AACAD,oBAAc,CAACS,MAAf,CAAsB0B,CAAtB,EAAyBN,KAAzB,CAA+BE,MAA/B,GAAwCC,IAAI,CAACC,GAAL,CAASG,SAAT,CAAxC,CAFa,CAGb;;AACA,UAAGA,SAAS,GAAG,CAAf,EAAiB;AAChB;AACApC,sBAAc,CAACS,MAAf,CAAsB0B,CAAtB,EAAyBN,KAAzB,CAA+BC,CAA/B,GAAmCL,QAAQ,GAAGO,IAAI,CAACC,GAAL,CAASG,SAAT,CAA9C;AACA,OAHD,MAGK;AACJ;AACApC,sBAAc,CAACS,MAAf,CAAsB0B,CAAtB,EAAyBN,KAAzB,CAA+BC,CAA/B,GAAmCL,QAAnC;AACA;AACD,KAXD,MAWK;AACJ;AACAzB,oBAAc,CAACS,MAAf,CAAsB0B,CAAtB,EAAyBN,KAAzB,CAA+BK,CAA/B,GAAmCT,QAAnC,CAFI,CAIJ;;AACAzB,oBAAc,CAACS,MAAf,CAAsB0B,CAAtB,EAAyBN,KAAzB,CAA+BS,KAA/B,GAAuCN,IAAI,CAACC,GAAL,CAASG,SAAT,CAAvC,CALI,CAOJ;;AACA,UAAGA,SAAS,GAAG,CAAf,EAAiB;AAChBpC,sBAAc,CAACS,MAAf,CAAsB0B,CAAtB,EAAyBN,KAAzB,CAA+BK,CAA/B,GAAmClC,cAAc,CAACS,MAAf,CAAsB0B,CAAtB,EAAyBN,KAAzB,CAA+BK,CAA/B,GAAmCF,IAAI,CAACC,GAAL,CAASG,SAAT,CAAtE;AACA;AACD,KAhDiD,CAkDlD;AACA;AACA;;;AACApC,kBAAc,CAACS,MAAf,CAAsB0B,CAAtB,EAAyBP,IAAzB,GAAgCW,6DAAW,CAACvC,cAAc,CAACS,MAAf,CAAsB0B,CAAtB,EAAyBP,IAA1B,EAAgCrB,QAAQ,CAACY,OAAT,CAAiBgB,CAAjB,CAAhC,CAA3C;AACA,GA1HwB,CA4HzB;AACA;AACA;;;AACA,MAAGjB,UAAU,IAAI,CAAjB,EAAmB;AAClB,QAAGA,UAAU,GAAG,CAAhB,EAAkB;AACjBpB,mDAAM,CAACyB,EAAP,CAAUiB,KAAV,gEAA8DjC,QAAQ,CAACY,OAAT,CAAiBT,MAA/E,kHAA6LsB,IAAI,CAACC,GAAL,CAASf,UAAT,CAA7L;AACA,KAFD,MAEM,IAAGA,UAAU,GAAG,CAAhB,EAAkB;AACvBpB,mDAAM,CAACyB,EAAP,CAAUiB,KAAV,0DAAwDR,IAAI,CAACC,GAAL,CAASf,UAAT,CAAxD;AACA;AACD;AACD;;AAED,SAASd,SAAT,CAAmBqC,GAAnB,EAAwBxC,UAAxB,EAAmC;AAClC;AACA,MAAIY,GAAG,GAAG,CAAV;AACA,MAAIC,GAAG,GAAG,CAAV;;AAEA,MAAGb,UAAH,EAAc;AACb;AACA,SAAI,IAAIkC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACM,GAAG,CAAChC,MAAJ,CAAWC,MAA5B,EAAoCyB,CAAC,EAArC,EAAwC;AACvC,UAAIO,UAAU,GAAGD,GAAG,CAAChC,MAAJ,CAAW0B,CAAX,EAAcN,KAAd,CAAoBE,MAArC,CADuC,CAEvC;;AACA,UAAGW,UAAU,GAAE5B,GAAf,EAAmB;AAClBA,WAAG,GAAG4B,UAAN;AACA,OALsC,CAMvC;;;AACA,UAAG7B,GAAG,IAAI,CAAV,EAAY;AACX;AACAA,WAAG,GAAGC,GAAN;AACA;;AACD,UAAG4B,UAAU,GAAG7B,GAAhB,EAAoB;AACnBA,WAAG,GAAG6B,UAAN;AACA;AACD;AACD,GAjBD,MAiBK;AACJ;AACA,SAAI,IAAIP,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACM,GAAG,CAAChC,MAAJ,CAAWC,MAA5B,EAAoCyB,CAAC,EAArC,EAAwC;AACvC,UAAIQ,SAAS,GAAGF,GAAG,CAAChC,MAAJ,CAAW0B,CAAX,EAAcN,KAAd,CAAoBS,KAApC,CADuC,CAEvC;;AACA,UAAGK,SAAS,GAAG7B,GAAf,EAAmB;AAClBA,WAAG,GAAG6B,SAAN;AACA,OALsC,CAMvC;;;AACA,UAAG9B,GAAG,IAAI,CAAV,EAAY;AACX;AACAA,WAAG,GAAGC,GAAN;AACA;;AACD,UAAG6B,SAAS,GAAG9B,GAAf,EAAmB;AAClBA,WAAG,GAAG8B,SAAN;AACA;AACD;AACD;;AAED,SAAO,CAACX,IAAI,CAACY,IAAL,CAAU/B,GAAV,CAAD,EAAiBmB,IAAI,CAACY,IAAL,CAAU9B,GAAV,CAAjB,CAAP;AACA;;AAED,SAASN,OAAT,GAA2E;AAAA,MAA1DqC,QAA0D,uEAAjD,CAAC,EAAD,EAAI,GAAJ,CAAiD;AAAA,MAAvCC,SAAuC,uEAA7B,EAA6B;AAAA,MAAzBC,wBAAyB;AAC1E,MAAIC,UAAU,GAAG;AAChBjC,QAAI,EAAE,IADU;AAEhBD,OAAG,EAAE,IAFW;AAGhBK,WAAO,EAAE,EAHO;AAIhB8B,kBAAc,EAAE;AAJA,GAAjB;;AAOA,MAAGJ,QAAQ,CAACnC,MAAT,IAAmB,CAAnB,IAAwBmC,QAAQ,CAAC,CAAD,CAAR,IAAaA,QAAQ,CAAC,CAAD,CAAhD,EAAoD;AACnD,QAAGA,QAAQ,CAAC,CAAD,CAAR,GAAc,GAAjB,EAAqB;AACpBA,cAAQ,GAAG,CAAC,EAAD,EAAIA,QAAQ,CAAC,CAAD,CAAZ,CAAX;AACA,KAFD,MAEK;AACJA,cAAQ,GAAG,CAACA,QAAQ,CAAC,CAAD,CAAT,EAAa,GAAb,CAAX;AACA;AAED;;AAED,MAAGC,SAAS,IAAE,CAAd,EAAgB;AACfE,cAAU,CAACjC,IAAX,IAAmB,IAAnB;AACAjB,iDAAM,CAACyB,EAAP,CAAUiB,KAAV,CAAgB,aAAhB,EAA+B,wEAA/B;AACA;;AACD,MAAGM,SAAS,IAAE,CAAd,EAAgB;AAEf,QAAGA,SAAS,IAAE,CAAd,EAAgB;AACfhD,mDAAM,CAACyB,EAAP,CAAUiB,KAAV,CAAgB,4BAAhB,EAA8C,2DAA9C;AACA,KAJc,CAMf;;;AACC,QAAIF,KAAK,GAAG,GAAZ;AACA,QAAIP,MAAM,GAAG,EAAb,CARc,CAUd;;AACA,QAAImB,aAAa,GAAGH,wBAApB;AAED;;;;AAIA,QAAIP,KAAK,GAAGW,cAAc,CAACC,GAAf,EAAZ;;AACA,QAAGN,SAAS,IAAE,CAAd,EAAgB;AACfN,WAAK,CAACa,cAAN,CAAqB,uDAArB;AACA,KAFD,MAEK;AACJb,WAAK,CAACa,cAAN,gDAA6DP,SAA7D;AACA;;AACDN,SAAK,CAACc,kBAAN,CAAyB,KAAzB;AACAd,SAAK,CAACc,kBAAN,CAAyB,QAAzB;AACAd,SAAK,CAACe,kBAAN;AAEA;;;;AAGC,QAAIC,WAAW,GAAG,GAAlB;AACA,QAAIC,yBAAyB,GAAG,CAC/B,iBAD+B,EAE/B,iBAF+B,EAG/B,2BAH+B,EAI/B,qCAJ+B,CAAhC;AAOD,QAAIC,cAAc,GAAGC,6DAAW,CAAC,6BAAD,EAAgC,EAAhC,EAAoC,IAApC,EAA0CC,UAAU,CAAC,CAAD,EAAI,CAAJ,EAAOJ,WAAP,EAAoB,EAApB,CAApD,CAAhC;AACC,QAAIK,QAAQ,GAAGC,iEAAe,CAACZ,aAAD,EAAgB,IAAhB,EAAsBU,UAAU,CAAC,CAAD,EAAI,CAAJ,EAAOJ,WAAP,EAAoB,EAApB,CAAhC,CAA9B;AACA,QAAIO,kBAAkB,GAAGC,gEAAc,CAAC,CACvCP,yBAAyB,CAAC,CAAD,CADc,EAEvCA,yBAAyB,CAAC,CAAD,CAFc,EAGvCA,yBAAyB,CAAC,CAAD,CAHc,EAIvCA,yBAAyB,CAAC,CAAD,CAJc,CAAD,EAKnCG,UAAU,CAAC,CAAC,CAAF,EAAK,CAAC,CAAN,EAAS,GAAT,EAAc,EAAd,CALyB,CAAvC;AAMApB,SAAK,CAACyB,gBAAN,CAAuBP,cAAvB;AACAlB,SAAK,CAACyB,gBAAN,CAAuBJ,QAAvB;AACArB,SAAK,CAACyB,gBAAN,CAAuBF,kBAAvB;AAIA;;;;AAGA,QAAIG,kBAAkB,GAAG,EAAzB;AAEA,QAAIC,WAAW,GAAGC,MAAM,CAACC,KAAP,GAAeC,aAAf,CAA6BV,UAAU,CAAC,CAAD,EAAI,CAAJ,EAAOJ,WAAP,EAAoBU,kBAApB,CAAvC,CAAlB;AACA,QAAIK,YAAY,GAAGZ,6DAAW,CAAC,oCAAD,EAAuC,EAAvC,EAA2C,IAA3C,EAAiDC,UAAU,CAAC,CAAD,EAAIM,kBAAkB,GAAG,EAAzB,EAA6BV,WAA7B,EAA0C,EAA1C,CAA3D,CAA9B;AACA,QAAIgB,uBAAuB,GAAGb,6DAAW,CAAC,YAAD,EAAe,EAAf,EAAmB,KAAnB,EAA0BC,UAAU,CAAC,GAAD,EAAMM,kBAAkB,GAAG,EAA3B,EAA+BV,WAA/B,EAA4C,EAA5C,CAApC,EAAqF,GAArF,CAAzC;AAEA,QAAIiB,aAAa,GAAGd,6DAAW,CAAC,YAAD,EAAe,EAAf,EAAmB,KAAnB,EAA0BC,UAAU,CAAC,CAAD,EAAIM,kBAAkB,GAAC,EAAvB,EAA2B,GAA3B,EAAgC,EAAhC,CAApC,CAA/B;AACA,QAAIQ,iBAAiB,GAAGZ,iEAAe,CAAC,EAAD,EAAK,QAAL,EAAeF,UAAU,CAAC,CAAD,EAAIM,kBAAkB,GAAC,EAAvB,EAA2B,GAA3B,EAAgC,EAAhC,CAAzB,CAAvC;AAEA,QAAIS,aAAa,GAAGhB,6DAAW,CAAC,qBAAD,EAAwB,EAAxB,EAA4B,KAA5B,EAAmCC,UAAU,CAAC,GAAD,EAAMM,kBAAkB,GAAC,EAAzB,EAA6B,GAA7B,EAAkC,EAAlC,CAA7C,CAA/B;AACA,QAAIU,iBAAiB,GAAGd,iEAAe,CAAC,EAAD,EAAK,UAAU,GAAf,EAAoBF,UAAU,CAAC,GAAD,EAAMM,kBAAkB,GAAC,EAAzB,EAA6B,GAA7B,EAAkC,EAAlC,CAA9B,CAAvC,CAjEc,CAiE+F;;AAE9G,QAAIW,YAAY,GAAGlB,6DAAW,CAAC,uLAAD,EAA0L,EAA1L,EAA8L,KAA9L,EAAqMC,UAAU,CAAC,CAAD,EAAI,CAAJ,EAAO,GAAP,EAAY,KAAG,CAAf,CAA/M,CAA9B;AAECO,eAAW,CAACW,UAAZ,CAAuBP,YAAvB;AACAJ,eAAW,CAACW,UAAZ,CAAuBN,uBAAvB;AACAL,eAAW,CAACW,UAAZ,CAAuBD,YAAvB;AAEAV,eAAW,CAACW,UAAZ,CAAuBL,aAAvB;AACAN,eAAW,CAACW,UAAZ,CAAuBJ,iBAAvB;AAEAP,eAAW,CAACW,UAAZ,CAAuBH,aAAvB;AACAR,eAAW,CAACW,UAAZ,CAAuBF,iBAAvB;AAEApC,SAAK,CAACyB,gBAAN,CAAuBE,WAAvB;AACA3B,SAAK,CAACyB,gBAAN,CAAuBY,YAAvB;AAGA;;;;AAIArC,SAAK,CAACA,KAAN,GAAcuC,MAAd,GAAuBC,wBAAvB,CAAgDnB,QAAhD;AACAA,YAAQ,CAACoB,cAAT,CAAwBP,iBAAxB;AACAA,qBAAiB,CAACO,cAAlB,CAAiCL,iBAAjC;AACAA,qBAAiB,CAACK,cAAlB,CAAiCpB,QAAjC;AAGA;;;;AAIA,QAAIqB,UAAU,GAAGvB,6DAAW,CAAC,mDAAD,EAAsD,EAAtD,EAA0D,KAA1D,EAAiEC,UAAU,CAAC,CAAD,EAAI,CAAJ,EAAOJ,WAAW,GAAC,EAAnB,EAAuB,EAAvB,CAA3E,EAAuG,GAAvG,CAA5B;AACAhB,SAAK,CAACyB,gBAAN,CAAuBiB,UAAvB;AAGA;;;;AAIA,QAAIC,YAAY,GAAG3C,KAAK,CAAC4C,QAAN,EAAnB;;AAEA,QAAGD,YAAY,IAAI,IAAnB,EAAwB;AACvBnC,gBAAU,CAACjC,IAAX,GAAkB,IAAlB,CADuB,CAEvB;AAEA;;AACA,UAAIsE,GAAG,GAAG,GAAV;AACA,UAAIC,SAAS,GAAGvB,kBAAkB,CAACwB,mBAAnB,EAAhB;;AACA,UAAGD,SAAS,IAAI7B,yBAAyB,CAAC,CAAD,CAAzC,EAA6C;AAC7C4B,WAAG,GAAG,GAAN;AACC;;AAAA,UAAGC,SAAS,IAAI7B,yBAAyB,CAAC,CAAD,CAAzC,EAA6C;AAC9C4B,WAAG,GAAG,IAAN;AACC,OAFA,MAEK,IAAGC,SAAS,IAAI7B,yBAAyB,CAAC,CAAD,CAAzC,EAA6C;AAClD4B,WAAG,GAAG,IAAN;AACA,OAbsB,CAevB;;;AACA,UAAIG,WAAW,GAAG,EAAlB;;AACA,UAAG3B,QAAQ,CAAC4B,WAAT,MAA0B,EAA7B,EAAgC;AAC/BD,mBAAW,GAAGtC,aAAd;AACA,OAFD,MAEK;AACJsC,mBAAW,GAAG3B,QAAQ,CAAC4B,WAAT,EAAd;AACA;;AACD,UAAIC,WAAW,GAAGF,WAAW,CAACG,KAAZ,CAAkBN,GAAlB,CAAlB;;AACA,WAAI,IAAIlD,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACuD,WAAW,CAAChF,MAA3B,EAAmCyB,CAAC,EAApC,EAAuC;AACtCa,kBAAU,CAAC7B,OAAX,CAAmByE,IAAnB,CACCC,UAAU,CAACH,WAAW,CAACvD,CAAD,CAAZ,CADX;AAGA,OA3BsB,CA6BvB;;;AACA,UAAGyC,iBAAiB,CAACa,WAAlB,MAAmC,EAAtC,EAAyC;AACxC;AACAzC,kBAAU,CAAC3B,SAAX,GAAuB,CAAvB;AACA2B,kBAAU,CAAC1B,UAAX,GAAwBuE,UAAU,CAACjB,iBAAiB,CAACa,WAAlB,EAAD,CAAlC;AACA,OAJD,MAIM,IAAGf,iBAAiB,CAACe,WAAlB,MAAmC,EAAtC,EAAyC;AAC9C;AACAzC,kBAAU,CAAC3B,SAAX,GAAuB,CAAvB;AACA2B,kBAAU,CAAC1B,UAAX,GAAwBuE,UAAU,CAACnB,iBAAiB,CAACe,WAAlB,EAAD,CAAlC;AACA,OAJK,MAID;AACJzC,kBAAU,CAAC3B,SAAX,GAAuB,CAAvB;AACA;AACD,KAzCD,MAyCK;AACJ;AACA2B,gBAAU,CAACjC,IAAX,GAAkB,IAAlB;AACA;;AAEDiC,cAAU,CAAClC,GAAX,GAAiBkC,UAAU,CAAC7B,OAAX,CAAmB2E,MAAnB,CAA0B,UAASC,CAAT,EAAYC,CAAZ,EAAe;AACvD,aAAOhE,IAAI,CAAClB,GAAL,CAASiF,CAAT,EAAYC,CAAZ,CAAP;AACH,KAFiB,CAAjB;AAGA;;AACD,SAAOhD,UAAP;AACD,C;;;;;;;;;;;;AC3WD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,SAASiD,kBAAT,CAA4BC,MAA5B,EAAmCC,YAAnC,EAAiD;AACvD;AACA,MAAIC,eAAe,GAAGC,cAAc,CAACC,KAAf,EAAtB;AAEAJ,QAAM,CAACK,YAAP,CAAoBC,KAApB,GAA4BC,OAA5B,CAAoC,UAASC,IAAT,EAAc;AACjD,QAAIC,SAAS,GAAGC,WAAW,CAACC,mBAAZ,CAAgC,gDAAhC,EAAiF,kBAAjF,EAAoGV,YAAY,CAACI,YAAb,CAA0BO,QAA1B,EAApG,CAAhB;AAEAJ,QAAI,CAACK,QAAL,GAAgBC,2BAAhB,CAA4CL,SAA5C,EAAuDF,OAAvD,CAA+D,UAAAQ,QAAQ;AAAA,aAAIb,eAAe,CAACc,SAAhB,CAA0BD,QAA1B,CAAJ;AAAA,KAAvE;AACA,GAJD;AAMA,SAAOb,eAAP;AACA;AAEM,SAASe,UAAT,CAAoBC,KAApB,EAA2BC,KAA3B,EAAkCC,IAAlC,EAAwC;AAC3C,SAAOA,IAAI,CAACC,OAAL,CAAaH,KAAb,MAAwBC,KAA/B;AACH;AAEM,SAASG,mBAAT,CAA6BlB,KAA7B,EAAoC5F,MAApC,EAA2C;AACjD,MAAI+G,QAAQ,GAAG,EAAf;;AACA,OAAI,IAAItF,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACzB,MAAf,EAAuByB,CAAC,EAAxB,EAA2B;AACvB,QAAIuF,IAAI,GAAG1F,IAAI,CAAC2F,KAAL,CAAWxF,CAAC,GAACmE,KAAK,CAAC5F,MAAnB,CAAX;AACF,QAAI2G,KAAK,GAAGlF,CAAC,GAAEuF,IAAI,GAACpB,KAAK,CAAC5F,MAA1B;AACE+G,YAAQ,CAAC7B,IAAT,CAAcU,KAAK,CAACe,KAAD,CAAnB;AACH;;AACD,SAAOI,QAAP;AACA;AAGD;;AACA;;AACA;;AAEA;;;;;;AAMO,SAAS9D,WAAT,CAAqBiE,IAArB,EAA2BC,QAA3B,EAAqCC,IAArC,EAA2CjG,KAA3C,EAAkDkG,OAAlD,EAA2D;AAChE,MAAIC,KAAK,GAAGC,WAAW,CAAC5D,KAAZ,GAAoBC,aAApB,CAAkCzC,KAAlC,CAAZ;AACAmG,OAAK,CAACE,cAAN,CAAqBN,IAArB;AACAI,OAAK,CAACG,OAAN,CAAeL,IAAD,GAASM,MAAM,CAACC,oBAAP,CAA4BR,QAA5B,CAAT,GAAiDO,MAAM,CAACE,gBAAP,CAAwBT,QAAxB,CAA/D;AACAG,OAAK,CAACO,UAAN,CAAiB,KAAjB;AACAP,OAAK,CAACQ,kBAAN,CAAyB,KAAzB;AACAR,OAAK,CAACS,WAAN,CAAkB,KAAlB;AACAT,OAAK,CAACU,aAAN,CAAoB,KAApB;AACA,MAAIX,OAAJ,EAAaC,KAAK,CAACW,aAAN,CAAoBZ,OAApB;AAEb,SAAOC,KAAP;AACD;AACM,SAASlE,eAAT,CAAyBsD,KAAzB,EAAgCwB,WAAhC,EAA6C/G,KAA7C,EAAoD;AACzD,MAAIgH,SAAS,GAAGZ,WAAW,CAAC5D,KAAZ,GAAoBC,aAApB,CAAkCzC,KAAlC,CAAhB;AACAgH,WAAS,CAACC,IAAV,GAAiBC,QAAjB,CAA0B,KAA1B;AACAF,WAAS,CAACC,IAAV,GAAiBE,aAAjB,CAA+B,IAA/B;AACAH,WAAS,CAACX,cAAV,CAAyBd,KAAzB;AACA,MAAIwB,WAAJ,EAAiBC,SAAS,CAACI,oBAAV,CAA+BL,WAA/B;AAEjB,SAAOC,SAAP;AACD;AAEM,SAAS7E,cAAT,CAAwBkF,MAAxB,EAAgCrH,KAAhC,EAAsC;AAC3C,MAAIsH,QAAQ,GAAGC,aAAa,CAAC/E,KAAd,GAAsBC,aAAtB,CAAoCzC,KAApC,CAAf;AACAsH,UAAQ,CAACE,kBAAT,CAA4BH,MAA5B;AAEA,SAAOC,QAAP;AACD;AAEM,SAASG,cAAT,CAAwB1B,IAAxB,EAA8B2B,OAA9B,EAAuC1H,KAAvC,EAA8C;AACjD0H,SAAO,GAAIA,OAAO,IAAI,KAAZ,GAAqBC,UAArB,GAAkCC,SAA5C;AACA,MAAIC,QAAQ,GAAGC,QAAQ,CAACtF,KAAT,GAAiBC,aAAjB,CAA+BzC,KAA/B,CAAf;AACA6H,UAAQ,CAACE,aAAT,CAAuBC,cAAvB;AACAH,UAAQ,CAACI,aAAT,CAAuB,CAAvB;AACAJ,UAAQ,CAACK,QAAT,CAAkBnC,IAAlB;AACA8B,UAAQ,CAACM,QAAT,CAAkBT,OAAlB;AAEA,SAAOG,QAAP;AACH;AAGD;;AACA;;AACA;;AAEO,SAAS/H,mBAAT,CAA6BC,IAA7B,EAAkC;AAExC,MAAImE,CAAC,GAAGnE,IAAI,CAAC+D,KAAL,CAAW,IAAX,CAAR;;AACA,MAAGI,CAAC,CAACrF,MAAF,IAAY,CAAf,EAAiB;AAAC,WAAO,KAAP;AAAc;;AAChC,MAAIsF,CAAC,GAAGD,CAAC,CAAC,CAAD,CAAD,CAAKJ,KAAL,CAAW,IAAX,CAAR;AAEA,MAAIsE,GAAG,GAAGpE,UAAU,CAACG,CAAC,CAAC,CAAD,CAAF,CAApB;;AACA,MAAGkE,KAAK,CAACD,GAAD,CAAR,EAAc;AAAC,WAAO,KAAP;AAAc;;AAE7B,SAAQA,GAAR;AACA;AAEM,SAAS1H,WAAT,CAAqBX,IAArB,EAA2BuI,MAA3B,EAAkC;AAExC,MAAIpE,CAAC,GAAGnE,IAAI,CAAC+D,KAAL,CAAW,IAAX,CAAR;AACA,MAAIyE,OAAO,GAAGxI,IAAI,GAAG,KAAP,GAAeuI,MAAf,GAAwB,IAAtC;;AAEA,MAAGpE,CAAC,CAACrF,MAAF,GAAW,CAAd,EAAgB;AACf,QAAIsF,CAAC,GAAGD,CAAC,CAAC,CAAD,CAAD,CAAKJ,KAAL,CAAW,IAAX,CAAR;;AACA,QAAGK,CAAC,CAACtF,MAAF,IAAY,CAAf,EAAiB;AAAC,aAAO0J,OAAP;AAAgB;;AAClC,QAAIA,OAAO,GAAGrE,CAAC,CAAC,CAAD,CAAD,GAAO,IAAP,GAAcoE,MAAd,GAAuB,IAAvB,GAA8BnE,CAAC,CAAC,CAAD,CAA7C;AACA;;AAED,SAAOoE,OAAP;AACA;AAGD;;AACA;;AACA;;AAEO,SAASlK,kBAAT,CAA4BuC,GAA5B,EAAgC;AACtC;AACA,MAAIxC,UAAU,GAAG,IAAjB;;AACA,MAAGwC,GAAG,CAAChC,MAAJ,CAAWC,MAAX,IAAqB,CAArB,IAA0B+B,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBC,CAApB,IAAyBW,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBC,CAA1E,EAA4E;AAC3E;AACA;AACA,QAAGW,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBK,CAApB,IAAyBO,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBK,CAAhD,EAAkD;AACjDjC,gBAAU,GAAG,KAAb;AACA,KAFD,CAGA;AACA;AACA;AALA,SAMK,IAAGwC,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBK,CAApB,GAAwBO,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBS,KAA5C,IAAqDG,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBK,CAAzE,IAA8EO,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBE,MAApB,IAA8BU,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBE,MAAnI,EAA0I;AAC9I9B,kBAAU,GAAG,KAAb;AACA,OAFI,MAGA,IAAGwC,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBK,CAApB,GAAwBO,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBS,KAA5C,IAAqDG,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBK,CAAzE,IAA8EO,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBE,MAApB,IAA8BU,GAAG,CAAChC,MAAJ,CAAW,CAAX,EAAcoB,KAAd,CAAoBE,MAAnI,EAA0I;AAC9I9B,kBAAU,GAAG,KAAb;AACA;AACD;;AACD,SAAOA,UAAP;AACA;AAGD;;AACA;;AACA;;AAEO,SAASK,YAAT,CAAsBmC,GAAtB,EAA2BxC,UAA3B,EAAsC;AAC5C;AACA,MAAIoK,aAAa,GAAG,EAApB;;AAEA,OAAI,IAAIlI,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACM,GAAG,CAAChC,MAAJ,CAAWC,MAA1B,EAAkCyB,CAAC,EAAnC,EAAsC;AACrC,QAAImI,UAAU,GAAGjI,SAAjB;;AACA,QAAGpC,UAAH,EAAc;AACbqK,gBAAU,GAAG7H,GAAG,CAAChC,MAAJ,CAAW0B,CAAX,EAAcN,KAAd,CAAoBE,MAApB,CAA2BwI,OAA3B,CAAmC,CAAnC,CAAb,CADa,CACuC;AACpD,KAFD,MAEK;AACJD,gBAAU,GAAG7H,GAAG,CAAChC,MAAJ,CAAW0B,CAAX,EAAcN,KAAd,CAAoBS,KAApB,CAA0BiI,OAA1B,CAAkC,CAAlC,CAAb,CADI,CAC+C;AACnD;;AACDD,cAAU,GAAGzE,UAAU,CAACyE,UAAD,CAAvB,CAPqC,CAOD;;AACpC,QAAGnI,CAAC,IAAE,CAAN,EAAQ;AACPkI,mBAAa,GAAG,KAAKC,UAArB;AACA,KAFD,MAEK;AACJD,mBAAa,GAAGA,aAAa,GAAG,GAAhB,GAAsBC,UAAtC;AACA;AAED;;AACD,SAAOD,aAAP;AACA,C;;;;;;;;;;;ACjKD,mC","file":"nonrandom-barchart.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/nonrandom-barchart.js\");\n","import sketch from 'sketch'\nimport { getBarHeight, getValFromLayerName, renameLayer, isVerticalBarchart, createLabel, createTextField, createDropdown } from \"./utils.js\";\n// documentation: https://developer.sketchapp.com/reference/api/\n\nexport default function() {\n\tlog('~~ Run Chippen charts ~~')\n\tconst doc = sketch.getSelectedDocument()\n\tconst selectedLayers = doc.selectedLayers\n\n\t/* \n\t\tAnalyse selected layers\n\t*/\n\t\n\tvar isVertical = isVerticalBarchart(doc.selectedLayers)\n\n\tvar minMax_fromSelection = getMinMax(doc.selectedLayers, isVertical)\n\tvar barHeight_fromSelection = getBarHeight(doc.selectedLayers, isVertical)\n\n\n\t/* \n\t\tUser input\n\t*/\n\n\tvar response = myinput(minMax_fromSelection, doc.selectedLayers.layers.length, barHeight_fromSelection)\n\n\tvar scaleType_names = [\"\", \"Multiplied by\", \"Set to max pixel height\"]\n\n\tvar minMax = [response.min, response.max]\n\tif (response.code !== 1000) {\n\t\t\treturn\n\t\t}\n\tvar myRandomSlots = []\n \n\n\t/* \n\t\tUI message\n\t*/\n\n\tvar isVertical_name = \"vertical\"\n\tif(!isVertical){isVertical_name = \"horizontal\"}\n\tvar alert_diff = selectedLayers.layers.length - response.numbers.length\n\tvar message_options = \"\";\n\tif(response.scaleType != 0){\n\t\tmessage_options = `(${scaleType_names[response.scaleType]} ${response.scaleValue})`\n\t}\n\tif(alert_diff <= 0){\n\t\tsketch.UI.message(`🤙 ${doc.selectedLayers.length} ${isVertical_name} bars were adjusted ${message_options}`)\t\n\t}else{\n\t\tsketch.UI.message(`🤙 ${response.numbers.length} ${isVertical_name} bars were adjusted ${message_options}`)\t\n\t}\n\t\n\n\t/* \n\t\tChanging size\n\t*/\n\t\n\tvar baseLine = 0;\n\tconst firstBarVal = getValFromLayerName(selectedLayers.layers[0].name);\n\n\tif(isVertical){\n\t\tbaseLine = selectedLayers.layers[0].frame.y + selectedLayers.layers[0].frame.height\n\t\t// Adjust when first value of existing bar is negative \n\t\t// Based on layer name\n\t\tif(firstBarVal < 0){baseLine = baseLine - Math.abs(firstBarVal)}\n\t}else{\n\t\tif(firstBarVal >= 0){\n\t\t\tbaseLine = selectedLayers.layers[0].frame.x\t\n\t\t}else if(firstBarVal < 0){\n\t\t\tbaseLine = selectedLayers.layers[0].frame.x\t+ Math.abs(firstBarVal)\n\t\t}\n\t}\n\t\n\tfor(var i = 0; i<selectedLayers.layers.length; i++){\n\n\t\tvar newLength = 1\n\t\t\n\t\tif(response.numbers[i] == undefined){\n\t\t\tnewLength = undefined // no bar will be changed and no error will be thrown (it's undefined by default anyway)\n\t\t}else{\n\t\t\tif(response.scaleType == 1){\n\t\t\t\t// Multiplier\n\t\t\t\tnewLength = response.numbers[i] * response.scaleValue\n\t\t\t}else if(response.scaleType == 2){\n\t\t\t\t// Set max height\n\t\t\t\tnewLength = (response.numbers[i] * response.scaleValue) / response.max\n\t\t\t}else{\n\t\t\t\t// none\n\t\t\t\tnewLength = response.numbers[i]\n\t\t\t}\t\t\t\t\n\t\t}\n\n\t\t// Length can't be zero\n\t\tif(newLength == 0){ \n\t\t\tnewLength = 0.5;\n\t\t\tresponse.numbers[i] = 0.5;\n\t\t}\n\n\t\t// Change Width / Height\n\t\tif(isVertical){\n\t\t\t// Change height\n\t\t\tselectedLayers.layers[i].frame.height = Math.abs(newLength);\n\t\t\t// Move to baseline\n\t\t\tif(newLength > 0){\n\t\t\t\t// Reposition bars with positive values\n\t\t\t\tselectedLayers.layers[i].frame.y = baseLine - Math.abs(newLength);\n\t\t\t}else{\n\t\t\t\t// Reposition bars with negative values\n\t\t\t\tselectedLayers.layers[i].frame.y = baseLine;\n\t\t\t}\t\t\n\t\t}else{\n\t\t\t// Reset position, just in case\n\t\t\tselectedLayers.layers[i].frame.x = baseLine;\n\n\t\t\t// Change width\n\t\t\tselectedLayers.layers[i].frame.width = Math.abs(newLength);\n\t\t\t\n\t\t\t// Reposition bars with negative values\n\t\t\tif(newLength < 0){\n\t\t\t\tselectedLayers.layers[i].frame.x = selectedLayers.layers[i].frame.x - Math.abs(newLength)\n\t\t\t}\n\t\t}\t\n\n\t\t// Rename layer\t\n\t\t// Data value will be added to layer name\n\t\t// Example: Rectangle ==> Rectangle {:12:}\n\t\tselectedLayers.layers[i].name = renameLayer(selectedLayers.layers[i].name, response.numbers[i])\n\t}\n\t\t\n\t// Notification\n\t// Alert in case number of selected layers \n\t// does not match amount of numbers\n\tif(alert_diff != 0){\n\t\tif(alert_diff > 0){\n\t\t\tsketch.UI.alert(`😇 Just letting you know`, `Only the first ${response.numbers.length} of your selected layer(s) have been adjusted. There weren't enough number values to adjust the last ${Math.abs(alert_diff)} layer(s). Maybe check the separator options (comma, etc).`);\n\t\t}else if(alert_diff < 0){\n\t\t\tsketch.UI.alert(`😇 Just letting you know`, `The last ${Math.abs(alert_diff)} values weren't used as there weren't enough layer(s) selected.`)\n\t\t}\n\t}\n}\n\nfunction getMinMax(arr, isVertical){\n\t// arr needs to be doc.selectedLayers\n\tvar min = 0;\n\tvar max = 0;\n\n\tif(isVertical){\n\t\t// Vertical bar chart (get minMax height)\n\t\tfor(var i = 0; i<arr.layers.length; i++){\n\t\t\tvar thisHeight = arr.layers[i].frame.height\n\t\t\t// Max\n\t\t\tif(thisHeight >max){\n\t\t\t\tmax = thisHeight\n\t\t\t}\n\t\t\t// Min\n\t\t\tif(min == 0){\n\t\t\t\t// set min at first runfirst\n\t\t\t\tmin = max   \n\t\t\t}\n\t\t\tif(thisHeight < min){\n\t\t\t\tmin = thisHeight\n\t\t\t}\n\t\t}\n\t}else{\n\t\t// Horizontal bar chart (get minMax width)\n\t\tfor(var i = 0; i<arr.layers.length; i++){\n\t\t\tvar thisWidth = arr.layers[i].frame.width\n\t\t\t// Max\n\t\t\tif(thisWidth > max){\n\t\t\t\tmax = thisWidth\n\t\t\t}\n\t\t\t// Min\n\t\t\tif(min == 0){\n\t\t\t\t// set min at first run\n\t\t\t\tmin = max   \n\t\t\t}\n\t\t\tif(thisWidth < min){\n\t\t\t\tmin = thisWidth\n\t\t\t}\n\t\t}\n\t}\n\n\treturn [Math.ceil(min), Math.ceil(max)]\n}\n\nfunction myinput(myMinMax=[20,100], numOfBars=\"\", myBarHeightFromSelection){\n\tvar myresponse = {\n\t\tcode: null,\n\t\tmax: null,\n\t\tnumbers: [],\n\t\ttrendTypeInput: null\n\t}\n\n\tif(myMinMax.length != 2 || myMinMax[0]==myMinMax[1]){\n\t\tif(myMinMax[0] > 100){\n\t\t\tmyMinMax = [20,myMinMax[1]]\n\t\t}else{\n\t\t\tmyMinMax = [myMinMax[0],100]\n\t\t}\n\t\t\n\t}\n\n\tif(numOfBars==0){\n\t\tmyresponse.code == 1001\n\t\tsketch.UI.alert(\"Sorry buddy\", \"You need to select multiple rectangles (bars) for this plugin to work.\")\n\t}\n\tif(numOfBars!=0){\n\n\t\tif(numOfBars==1){\n\t\t\tsketch.UI.alert(\"Hey, just letting you know\", \"Most awesome results come when selecting more than 1 bar.\")\n\t\t}\n\n\t\t// Create initial view panel\n\t \tvar width = 260\n\t \tvar height = 40\n\n\t \t// Number input\n\t \tvar sampleNumbers = myBarHeightFromSelection;\n\n\t\t/*\n\t\t\tSetup the window\n\t \t*/\n\n\t\tvar alert = COSAlertWindow.new()\n\t\tif(numOfBars==1){\n\t\t\talert.setMessageText(\"Create your defined bar chart \\nwith 1 selected layer\")\n\t\t}else{\n\t\t\talert.setMessageText(`Create your defined bar chart \\nwith ${numOfBars} selected layers`)\n\t\t}\n\t\talert.addButtonWithTitle(\"Run\")\n\t\talert.addButtonWithTitle(\"Cancel\")\n\t\talert.setInformativeText(`This is for a bar chart where you have specific values in mind, rather than using random numbers.`)\n\n\t\t/*\n\t\t\tInput\n\t \t*/\n\t \tvar alert_width = 280;\n\t \tvar numInput_separatorOptions = [\n\t \t\t\"Comma separated\",\n\t \t\t\"Space separated\",\n\t \t\t\"Tab separated (Excel row)\",\n\t \t\t\"Line break separated (Excel column)\",\n\t \t]\n\n\t\tvar numInput_label = createLabel(\"Paste in your number values\", 12, true, NSMakeRect(0, 0, alert_width, 16));\n\t \tvar numInput = createTextField(sampleNumbers, null, NSMakeRect(0, 0, alert_width, 25));\n\t \tvar numInput_separator = createDropdown([\n\t \t\tnumInput_separatorOptions[0],\n\t \t\tnumInput_separatorOptions[1],\n\t \t\tnumInput_separatorOptions[2],\n\t \t\tnumInput_separatorOptions[3]\n\t \t\t], NSMakeRect(-2, -1, 150, 24));\n\t \talert.addAccessoryView(numInput_label);\n\t \talert.addAccessoryView(numInput);\n\t \talert.addAccessoryView(numInput_separator);\n\n\t \t\n\n\t \t/*\n\t\t\tOptions\n\t \t*/\n\t \tvar optionsView_height = 85;\n\n\t \tvar optionsView = NSView.alloc().initWithFrame(NSMakeRect(0, 0, alert_width, optionsView_height));\n\t \tvar optionsLabel = createLabel(\"Do you want to scale these values?\", 12, true, NSMakeRect(0, optionsView_height - 26, alert_width, 16));\n\t \tvar optionsLabel_inlineNote = createLabel(\"(optional)\", 12, false, NSMakeRect(215, optionsView_height - 26, alert_width, 16), 0.3);\n\n\t \tvar option1_label = createLabel(\"Multiplier\", 12, false, NSMakeRect(0, optionsView_height-48, 130, 16));\n\t \tvar option1_textField = createTextField(\"\", \"e.g. 1\", NSMakeRect(0, optionsView_height-81, 130, 25));\n\n\t \tvar option2_label = createLabel(\"Max bar height (px)\", 12, false, NSMakeRect(150, optionsView_height-48, 130, 16));\n\t \tvar option2_textField = createTextField(\"\", \"e.g. \" + 100, NSMakeRect(150, optionsView_height-81, 130, 25)); // prev version showed myMinMax[1] as option\n\t\t\n\t\tvar options_info = createLabel(\"You have the option to define the scaling in case the supplied values don't match your desired pixel values. You can either define a multiplier or set a maximum bar height in pixel.\", 11, false, NSMakeRect(0, 0, 260, 16*4))\n\n\t \toptionsView.addSubview(optionsLabel);\n\t \toptionsView.addSubview(optionsLabel_inlineNote);\n\t \toptionsView.addSubview(options_info)\n\t \t\n\t \toptionsView.addSubview(option1_label);\n\t \toptionsView.addSubview(option1_textField);\n\t \t\n\t \toptionsView.addSubview(option2_label);\n\t \toptionsView.addSubview(option2_textField);\n\n\t \talert.addAccessoryView(optionsView); \n\t \talert.addAccessoryView(options_info)\n\n\n\t \t/*\n\t\t\tKey navigation (popup)\n\t \t*/\n\n\t \talert.alert().window().setInitialFirstResponder(numInput);\n\t \tnumInput.setNextKeyView(option1_textField)\n\t \toption1_textField.setNextKeyView(option2_textField)\n\t \toption2_textField.setNextKeyView(numInput)\n\n\n\t \t/*\n\t\t\tNote\n\t \t*/\n\n\t \tvar note_line1 = createLabel(\"Please make sure proportional scaling is disabled\", 11, false, NSMakeRect(0, 0, alert_width+10, 16), 0.3);\n\t \talert.addAccessoryView(note_line1);\n\n\n\t \t/*\n\t\t\tRESPONSE\n\t \t*/\n\n\t \tvar responseCode = alert.runModal();\n\n\t \tif(responseCode == 1000){\n\t \t\tmyresponse.code = 1000\n\t \t\t// OK\n\n\t \t\t// Separator\n\t \t\tvar sep = \",\"\n\t \t\tvar sep_input = numInput_separator.titleOfSelectedItem()\n\t \t\tif(sep_input == numInput_separatorOptions[1]){\n\t\t\t\tsep = \" \"\t \t\t\t\n\t \t\t}if(sep_input == numInput_separatorOptions[2]){\n\t\t\t\tsep = \"\\t\"\t \t\t\t\n\t \t\t}else if(sep_input == numInput_separatorOptions[3]){\n\t \t\t\tsep = \"\\n\"\n\t \t\t}\n\n\t \t\t// Numbers\n\t \t\tvar numbers_str = \"\";\n\t \t\tif(numInput.stringValue() == \"\"){\n\t \t\t\tnumbers_str = sampleNumbers\n\t \t\t}else{\n\t \t\t\tnumbers_str = numInput.stringValue();\n\t \t\t}\n\t \t\tvar numbers_arr = numbers_str.split(sep)\n\t \t\tfor(var i=0; i<numbers_arr.length; i++){\n\t \t\t\tmyresponse.numbers.push(\n\t \t\t\t\tparseFloat(numbers_arr[i])\n\t \t\t\t\t);\n\t \t\t}\n\n\t \t\t// Options\n\t \t\tif(option2_textField.stringValue() != \"\"){\n\t \t\t\t// Option 2: Set max height\n\t \t\t\tmyresponse.scaleType = 2;\n\t \t\t\tmyresponse.scaleValue = parseFloat(option2_textField.stringValue())\n\t \t\t}else if(option1_textField.stringValue() != \"\"){\n\t \t\t\t// Option 1: Multiplier\n\t \t\t\tmyresponse.scaleType = 1;\n\t \t\t\tmyresponse.scaleValue = parseFloat(option1_textField.stringValue())\n\t \t\t}else{\n\t \t\t\tmyresponse.scaleType = 0;\n\t \t\t}\t\n\t \t}else{\n\t \t\t// Cancel\n\t \t\tmyresponse.code = 1001\n\t \t}\n\t \t\n\t \tmyresponse.max = myresponse.numbers.reduce(function(a, b) {\n    \t\treturn Math.max(a, b);\n\t\t});\n\t }\n\t return myresponse\n}\n","export function getSymbolInstances(source,symbolMaster) {\n\t// https://github.com/sonburn/\n\tvar symbolInstances = NSMutableArray.array();\n\n\tsource.sketchObject.pages().forEach(function(page){\n\t\tvar predicate = NSPredicate.predicateWithFormat('className == %@ && symbolMaster.objectID == %@','MSSymbolInstance',symbolMaster.sketchObject.objectID());\n\n\t\tpage.children().filteredArrayUsingPredicate(predicate).forEach(instance => symbolInstances.addObject(instance));\n\t});\n\n\treturn symbolInstances;\n}\n\nexport function onlyUnique(value, index, self) { \n    return self.indexOf(value) === index;\n}\n\nexport function iterativeGapFilling(array, length){\n\tvar newArray = [];\n\tfor(var i=0; i<length; i++){\n    \tvar loop = Math.floor(i/array.length);\n \t\tvar index = i-(loop*array.length);\n    \tnewArray.push(array[index]);\n\t}\n\treturn newArray;\n}\n\n\n/**********************/\n/*       POPUP        */\n/**********************/\n\n/*\n\tUtils from Marc Bouchenoire\n\tfor easier UI design\n\thttps://github.com/bouchenoiremarc\n*/\n\nexport function createLabel(text, fontSize, bold, frame, opacity) {\n  var label = NSTextField.alloc().initWithFrame(frame)\n  label.setStringValue(text)\n  label.setFont((bold) ? NSFont.boldSystemFontOfSize(fontSize) : NSFont.systemFontOfSize(fontSize))\n  label.setBezeled(false)\n  label.setDrawsBackground(false)\n  label.setEditable(false)\n  label.setSelectable(false)\n  if (opacity) label.setAlphaValue(opacity)\n\n  return label\n}\nexport function createTextField(value, placeholder, frame) {\n  var textfield = NSTextField.alloc().initWithFrame(frame)\n  textfield.cell().setWraps(false);\n  textfield.cell().setScrollable(true);\n  textfield.setStringValue(value);\n  if (placeholder) textfield.setPlaceholderString(placeholder);\n\n  return textfield\n}\n\nexport function createDropdown(values, frame){\n  var dropdown = NSPopUpButton.alloc().initWithFrame(frame)\n  dropdown.addItemsWithTitles(values)\n\n  return dropdown\n}\n\nexport function createCheckbox(text, checked, frame) {\n    checked = (checked == false) ? NSOffState : NSOnState\n    var checkbox = NSButton.alloc().initWithFrame(frame)\n    checkbox.setButtonType(NSSwitchButton)\n    checkbox.setBezelStyle(0)\n    checkbox.setTitle(text)\n    checkbox.setState(checked)\n\n    return checkbox\n}\n\n\n/**********************/\n/* VAL IN LAYER NAME  */\n/**********************/\n\nexport function getValFromLayerName(name){\n\t\n\tvar a = name.split(\"{:\")\n\tif(a.length == 1){return false;}\n\tvar b = a[1].split(\":}\");\n\n\tvar val = parseFloat(b[0])\n\tif(isNaN(val)){return false;}\n\t\n\treturn  val;\n}\n\nexport function renameLayer(name, newVal){\n\t\n\tvar a = name.split(\"{:\")\n\tvar newName = name + \" {:\" + newVal + \":}\";\n\n\tif(a.length > 1){\n\t\tvar b = a[1].split(\":}\");\n\t\tif(b.length == 1){return newName;}\n\t\tvar newName = a[0] + \"{:\" + newVal + \":}\" + b[1];\n\t}\n\n\treturn newName\n}\n\n\n/**********************/\n/*     BARCHART       */\n/**********************/\n\nexport function isVerticalBarchart(arr){\n\t// arr needs to be doc.selectedLayers\n\tvar isVertical = true\n\tif(arr.layers.length >= 2 && arr.layers[0].frame.y != arr.layers[1].frame.y){\n\t\t// It's horizontal if\n\t\t// 1. First two bars share same x value (works for positive values)\n\t\tif(arr.layers[0].frame.x == arr.layers[1].frame.x){\n\t\t\tisVertical = false;\n\t\t}\n\t\t// 2. Same y-baseline (works if first value is negative) \n\t\t// and they share same height\n\t\t// ! Needs check if first / second val is negative\n\t\telse if(arr.layers[0].frame.x + arr.layers[0].frame.width == arr.layers[1].frame.x && arr.layers[0].frame.height == arr.layers[1].frame.height){\n\t\t\tisVertical = false;\t\n\t\t}\n\t\telse if(arr.layers[1].frame.x + arr.layers[1].frame.width == arr.layers[0].frame.x && arr.layers[0].frame.height == arr.layers[1].frame.height){\n\t\t\tisVertical = false;\t\n\t\t}\n\t}\n\treturn isVertical\n}\n\n\n/**********************/\n/* NON-RANDO BARCHART */\n/**********************/\n\nexport function getBarHeight(arr, isVertical){\n\t// arr needs to be doc.selectedLayers\n\tvar barLength_str = \"\"\n\t\n\tfor(var i=0; i<arr.layers.length; i++){\n\t\tvar thisLength = undefined;\n\t\tif(isVertical){\n\t\t\tthisLength = arr.layers[i].frame.height.toFixed(2); // reduce to 2 decimals\n\t\t}else{\n\t\t\tthisLength = arr.layers[i].frame.width.toFixed(2); // reduce to 2 decimals\n\t\t}\n\t\tthisLength = parseFloat(thisLength) // to remove decimals from integers\n\t\tif(i==0){\n\t\t\tbarLength_str = \"\" + thisLength\t\n\t\t}else{\n\t\t\tbarLength_str = barLength_str + \",\" + thisLength\n\t\t}\n\t\t\n\t}\n\treturn barLength_str\n}","module.exports = require(\"sketch\");"],"sourceRoot":""}