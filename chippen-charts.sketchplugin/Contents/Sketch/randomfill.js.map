{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/randomfill.js","webpack://exports/./src/utils.js","webpack://exports/external \"sketch\""],"names":["log","doc","sketch","getSelectedDocument","selectedLayers","el_has_fillcolor","el_has_textcolor","defaultCol1","defaultCol2","defaultCategories","length","UI","alert","popup","COSAlertWindow","new","setMessageText","addButtonWithTitle","setInformativeText","popup_width","colInput_label","createLabel","NSMakeRect","col_view","NSView","alloc","initWithFrame","col1Input","createTextField","col2Input","categories_label","categoriesInput","sort_checkbox","createCheckbox","addAccessoryView","addSubview","window","setInitialFirstResponder","setNextKeyView","responseCode","runModal","col1","removeHash","stringValue","col2","num_of_colours","parseFloat","apply_by_layer_order","Number","state","col1_rgb","hexToRGB","col2_rgb","colours","i","new_rgb","j","new_diff","new_dir","new_add","Math","abs","new_dim","push","round","rgbToHex","layers","random_index","floor","random","order_index","col_index","random_col","hex_9","includes","type","style","fills","color","textColor","hex","rgb","sub1","substring","v","parseInt","hex_6","substr","arr","sub","toString","toUpperCase","padsub","slice","getSymbolInstances","source","symbolMaster","symbolInstances","NSMutableArray","array","sketchObject","pages","forEach","page","predicate","NSPredicate","predicateWithFormat","objectID","children","filteredArrayUsingPredicate","instance","addObject","onlyUnique","value","index","self","indexOf","iterativeGapFilling","newArray","loop","text","fontSize","bold","frame","opacity","label","NSTextField","setStringValue","setFont","NSFont","boldSystemFontOfSize","systemFontOfSize","setBezeled","setDrawsBackground","setEditable","setSelectable","setAlphaValue","placeholder","textfield","cell","setWraps","setScrollable","setPlaceholderString","createDropdown","values","dropdown","NSPopUpButton","addItemsWithTitles","checked","NSOffState","NSOnState","checkbox","NSButton","setButtonType","NSSwitchButton","setBezelStyle","setTitle","setState","getValFromLayerName","name","a","split","b","val","isNaN","renameLayer","newVal","newName","isVerticalBarchart","isVertical","y","x","width","height","getBarHeight","barLength_str","thisLength","undefined","toFixed"],"mappings":"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","file":"randomfill.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/randomfill.js\");\n","import sketch from 'sketch'\nimport { createLabel, createTextField, createCheckbox, onlyUnique } from \"./utils.js\";\n\nexport default function() {\n\tlog('~~ Run Chippen charts ~~')\n\tconst doc = sketch.getSelectedDocument()\n\tconst selectedLayers = doc.selectedLayers;\n\n\t// Elements with these types will get fill colour applied\n\tconst el_has_fillcolor = [\"Rectangle\", \"ShapePath\", \"Shape\"]\n\tconst el_has_textcolor = [\"Text\"]\n\n\t// Default values for popup\n\tconst defaultCol1 =  \"#eeeeee\";\n\tconst defaultCol2 = \"#891c55\";\n\tconst defaultCategories = 5;\n\t\n\n\t/*\n\t\tCHECK SELECTION\n\t*/\n\t\n\tif (selectedLayers.length == 0) {\n\t\tsketch.UI.alert(\"Chippencharts\",'Please select at least 1 shape or text layers to apply the random fill colours to.');\n\t\treturn false;\n\t}\n\n\n\t/*\n\t\tSetup the popup window\n\t*/\n\n\tvar popup = COSAlertWindow.new()\n\tpopup.setMessageText(\"Random fill\")\n\tpopup.addButtonWithTitle(\"Run\");\n\tpopup.addButtonWithTitle(\"Cancel\");\n\tpopup.setInformativeText(`Get as many colours as you want between two colours and randomly apply as fill to selected layers.`);\n\n\n\t/*\n\t\tInput\n \t*/\n\n \tconst popup_width = 280;\n\n\tvar colInput_label = createLabel(\"Paste in your two colour values\", 12, true, NSMakeRect(0, 0, popup_width, 16));\n \t\n\tvar col_view = NSView.alloc().initWithFrame(NSMakeRect(0, 0, popup_width, 25));\n \tvar col1Input = createTextField(defaultCol1, null, NSMakeRect(0, 0, 130, 25));\n \tvar col2Input = createTextField(defaultCol2, null, NSMakeRect(150, 0, 130, 25));\n \t\n \tvar categories_label = createLabel(\"How many random colours do you want?\", 12, true, NSMakeRect(0, 0, popup_width, 16));\n \tvar categoriesInput = createTextField(defaultCategories, null, NSMakeRect(0, 0, 130, 25));\n\n\tvar sort_checkbox = createCheckbox(\"Use layer order instead of random order\", false, NSMakeRect(-2, -1, 280, 24));\n\t\n\tpopup.addAccessoryView(colInput_label)\n\tcol_view.addSubview(col1Input)\n\tcol_view.addSubview(col2Input)\n \tpopup.addAccessoryView(col_view);\n\n \tpopup.addAccessoryView(categories_label);\n \tpopup.addAccessoryView(categoriesInput);\n\n \tpopup.addAccessoryView(sort_checkbox);\n\n \tpopup.alert().window().setInitialFirstResponder(col1Input);\n\tcol1Input.setNextKeyView(col2Input)\n\tcol2Input.setNextKeyView(categoriesInput)\n\tcategoriesInput.setNextKeyView(col1Input)\n\n\n \t/*\n\t\tRESPONSE\n\t*/\n\n\tvar responseCode = popup.runModal();\n\t\n\tif(responseCode != 1000){\n\n\t\t// User clicked \"Cancel\"\n\t\treturn false;\n\t}\n\n\tvar col1 = removeHash(col1Input.stringValue());\n\tvar col2 = removeHash(col2Input.stringValue());\n\tvar num_of_colours = parseFloat(categoriesInput.stringValue());\n\tvar apply_by_layer_order = Number(sort_checkbox.state()) == 1 ? true : false;\n\t\n\n\t/*\n\t\tCALCULATE COLOURS AND APPLY\n\t*/\n\n\tvar col1_rgb = hexToRGB(col1);\n\tvar col2_rgb = hexToRGB(col2);\n\n\tvar colours = [col1] // start colour\n\n\tfor(var i=0; i<(num_of_colours-2); i++){\n\n\t\tvar new_rgb = []\n\n\t\tfor(var j=0; j<3; j++){\n\t\t\t\n\n\t\t\tvar new_diff = col1_rgb[j] - col2_rgb[j];\n\t\t\tvar new_dir = new_diff >=0 ? -1 : 1;\n\n\t\t\tvar new_add = Math.abs(new_diff) / (num_of_colours-1);\n\t\t\tvar new_dim = col1_rgb[j] + new_dir*(i+1)*new_add;\n\n\t\t\tnew_rgb.push(Math.round(new_dim))\n\t\t}\n\t\tcolours.push(rgbToHex(new_rgb))\n\t}\n\n\tcolours.push(col2) // last colour\n\n\n\t// Apply new colours to selection\n\tfor(var i = 0; i<selectedLayers.layers.length; i++){\n\t\tvar random_index = Math.floor(Math.random() * (+ (colours.length) - +0)) + +0;\n\t\tvar order_index = Math.floor(i*((colours.length-1)/(selectedLayers.layers.length-1)))\n\n\t\tvar col_index = apply_by_layer_order ? order_index : random_index;\n\n\t\tvar random_col = hex_9(colours[col_index]);\n\n\t\tif(el_has_fillcolor.includes(selectedLayers.layers[i].type)){\n\t\n\t\t\t// Change fill if it's shape layer\n\t\t\tselectedLayers.layers[i].style.fills[0].color = random_col;\t\n\t\t}else if(el_has_textcolor.includes(selectedLayers.layers[i].type)){\n\t\n\t\t\t// Change fill if it's a text layer\n\t\t\tselectedLayers.layers[i].style.textColor = random_col;\n\t\t}\n\t}\n}\n\nfunction hexToRGB(hex){\n\tvar rgb = [];\n\tfor(var i = 0; i<3; i++) {\n\t  var sub1 = hex.substring(2*i, 2+2*i);\n\t  var v = parseInt(sub1, 16);\n\t  rgb.push(v);\n\t}\t\n\treturn rgb;\n}\n\nfunction hex_6 (hex){\n\t// #d8d8d8ff > d8d8d8\n\treturn hex.substr(1,6);\n}\n\nfunction hex_9 (hex_6){\n\t// d8d8d8 > #d8d8d8ff\n\treturn \"#\" + hex_6 + \"ff\";\n}\n\nfunction rgbToHex(arr){\n\tvar hex = \"\";\n\tfor(var i=0; i<3; i++){\n\t\tvar sub = arr[i].toString(16).toUpperCase();\n\t\tvar padsub = ('0'+sub).slice(-2);\n\t\thex = hex + padsub\n\t}\n\treturn hex;\n}\n\nfunction removeHash(hex){\n\treturn hex.substr(0,1)==\"#\" ? hex.substr(1,6) : hex;\n\n}","export function getSymbolInstances(source,symbolMaster) {\n\t// https://github.com/sonburn/\n\tvar symbolInstances = NSMutableArray.array();\n\n\tsource.sketchObject.pages().forEach(function(page){\n\t\tvar predicate = NSPredicate.predicateWithFormat('className == %@ && symbolMaster.objectID == %@','MSSymbolInstance',symbolMaster.sketchObject.objectID());\n\n\t\tpage.children().filteredArrayUsingPredicate(predicate).forEach(instance => symbolInstances.addObject(instance));\n\t});\n\n\treturn symbolInstances;\n}\n\nexport function onlyUnique(value, index, self) { \n    return self.indexOf(value) === index;\n}\n\nexport function iterativeGapFilling(array, length){\n\tvar newArray = [];\n\tfor(var i=0; i<length; i++){\n    \tvar loop = Math.floor(i/array.length);\n \t\tvar index = i-(loop*array.length);\n    \tnewArray.push(array[index]);\n\t}\n\treturn newArray;\n}\n\n\n/**********************/\n/*       POPUP        */\n/**********************/\n\n/*\n\tUtils from Marc Bouchenoire\n\tfor easier UI design\n\thttps://github.com/bouchenoiremarc\n*/\n\nexport function createLabel(text, fontSize, bold, frame, opacity) {\n  var label = NSTextField.alloc().initWithFrame(frame)\n  label.setStringValue(text)\n  label.setFont((bold) ? NSFont.boldSystemFontOfSize(fontSize) : NSFont.systemFontOfSize(fontSize))\n  label.setBezeled(false)\n  label.setDrawsBackground(false)\n  label.setEditable(false)\n  label.setSelectable(false)\n  if (opacity) label.setAlphaValue(opacity)\n\n  return label\n}\nexport function createTextField(value, placeholder, frame) {\n  var textfield = NSTextField.alloc().initWithFrame(frame)\n  textfield.cell().setWraps(false);\n  textfield.cell().setScrollable(true);\n  textfield.setStringValue(value);\n  if (placeholder) textfield.setPlaceholderString(placeholder);\n\n  return textfield\n}\n\nexport function createDropdown(values, frame){\n  var dropdown = NSPopUpButton.alloc().initWithFrame(frame)\n  dropdown.addItemsWithTitles(values)\n\n  return dropdown\n}\n\nexport function createCheckbox(text, checked, frame) {\n    checked = (checked == false) ? NSOffState : NSOnState\n    var checkbox = NSButton.alloc().initWithFrame(frame)\n    checkbox.setButtonType(NSSwitchButton)\n    checkbox.setBezelStyle(0)\n    checkbox.setTitle(text)\n    checkbox.setState(checked)\n\n    return checkbox\n}\n\n\n/**********************/\n/* VAL IN LAYER NAME  */\n/**********************/\n\nexport function getValFromLayerName(name){\n\t\n\tvar a = name.split(\"{:\")\n\tif(a.length == 1){return false;}\n\tvar b = a[1].split(\":}\");\n\n\tvar val = parseFloat(b[0])\n\tif(isNaN(val)){return false;}\n\t\n\treturn  val;\n}\n\nexport function renameLayer(name, newVal){\n\t\n\tvar a = name.split(\"{:\")\n\tvar newName = name + \" {:\" + newVal + \":}\";\n\n\tif(a.length > 1){\n\t\tvar b = a[1].split(\":}\");\n\t\tif(b.length == 1){return newName;}\n\t\tvar newName = a[0] + \"{:\" + newVal + \":}\" + b[1];\n\t}\n\n\treturn newName\n}\n\n\n/**********************/\n/*     BARCHART       */\n/**********************/\n\nexport function isVerticalBarchart(arr){\n\t// arr needs to be doc.selectedLayers\n\tvar isVertical = true\n\tif(arr.layers.length >= 2 && arr.layers[0].frame.y != arr.layers[1].frame.y){\n\t\t// It's horizontal if\n\t\t// 1. First two bars share same x value (works for positive values)\n\t\tif(arr.layers[0].frame.x == arr.layers[1].frame.x){\n\t\t\tisVertical = false;\n\t\t}\n\t\t// 2. Same y-baseline (works if first value is negative) \n\t\t// and they share same height\n\t\t// ! Needs check if first / second val is negative\n\t\telse if(arr.layers[0].frame.x + arr.layers[0].frame.width == arr.layers[1].frame.x && arr.layers[0].frame.height == arr.layers[1].frame.height){\n\t\t\tisVertical = false;\t\n\t\t}\n\t\telse if(arr.layers[1].frame.x + arr.layers[1].frame.width == arr.layers[0].frame.x && arr.layers[0].frame.height == arr.layers[1].frame.height){\n\t\t\tisVertical = false;\t\n\t\t}\n\t}\n\treturn isVertical\n}\n\n\n/**********************/\n/* NON-RANDO BARCHART */\n/**********************/\n\nexport function getBarHeight(arr, isVertical){\n\t// arr needs to be doc.selectedLayers\n\tvar barLength_str = \"\"\n\t\n\tfor(var i=0; i<arr.layers.length; i++){\n\t\tvar thisLength = undefined;\n\t\tif(isVertical){\n\t\t\tthisLength = arr.layers[i].frame.height.toFixed(2); // reduce to 2 decimals\n\t\t}else{\n\t\t\tthisLength = arr.layers[i].frame.width.toFixed(2); // reduce to 2 decimals\n\t\t}\n\t\tthisLength = parseFloat(thisLength) // to remove decimals from integers\n\t\tif(i==0){\n\t\t\tbarLength_str = \"\" + thisLength\t\n\t\t}else{\n\t\t\tbarLength_str = barLength_str + \",\" + thisLength\n\t\t}\n\t\t\n\t}\n\treturn barLength_str\n}","module.exports = require(\"sketch\");"],"sourceRoot":""}